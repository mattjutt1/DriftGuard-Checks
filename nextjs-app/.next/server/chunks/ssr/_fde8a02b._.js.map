{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///home/matt/prompt-wizard/nextjs-app/convex/_generated/api.js"],"sourcesContent":["/* eslint-disable */\n/**\n * Generated `api` utility.\n *\n * THIS CODE IS AUTOMATICALLY GENERATED.\n *\n * To regenerate, run `npx convex dev`.\n * @module\n */\n\nimport { anyApi } from \"convex/server\";\n\n/**\n * A utility for referencing Convex functions in your app's API.\n *\n * Usage:\n * ```js\n * const myFunctionReference = api.myModule.myFunction;\n * ```\n */\nexport const api = anyApi;\nexport const internal = anyApi;\n"],"names":[],"mappings":"AAAA,kBAAkB,GAClB;;;;;;;CAOC;;;;AAED;AAAA;;AAUO,MAAM,MAAM,sJAAA,CAAA,SAAM;AAClB,MAAM,WAAW,sJAAA,CAAA,SAAM","debugId":null}},
    {"offset": {"line": 25, "column": 0}, "map": {"version":3,"sources":["file:///home/matt/prompt-wizard/nextjs-app/src/hooks/useOptimization.ts"],"sourcesContent":["/**\n * Custom React Hook for Prompt Optimization\n * Provides complete integration with Convex backend for PromptWizard optimization\n */\n\nimport { useState, useCallback, useEffect } from 'react';\nimport { useMutation, useQuery } from 'convex/react';\nimport { api } from '../../convex/_generated/api';\nimport { Id } from '../../convex/_generated/dataModel';\n\n// TypeScript interfaces matching backend schema\nexport interface OptimizationMetrics {\n  clarity: number;\n  specificity: number;\n  engagement: number;\n  structure: number;\n  completeness: number;\n  errorPrevention: number;\n  overall: number;\n}\n\nexport interface ProgressStep {\n  step: string;\n  status: 'pending' | 'processing' | 'completed' | 'failed';\n  timestamp: number;\n  details?: string;\n}\n\nexport interface MutationHistoryItem {\n  iteration: number;\n  round: number;\n  mutationType: 'specific' | 'engaging' | 'structured';\n  originalPrompt: string;\n  mutatedPrompt: string;\n  qualityScores: OptimizationMetrics;\n  timestamp: number;\n}\n\nexport interface OptimizationResults {\n  bestPrompt: string;\n  improvements: string[];\n  qualityMetrics: OptimizationMetrics;\n  reasoning?: string;\n  expertInsights?: string[];\n}\n\nexport interface OptimizationSession {\n  _id: Id<'optimizationSessions'>;\n  promptId: Id<'prompts'>;\n  userId: Id<'users'>;\n  status: 'pending' | 'processing' | 'completed' | 'failed';\n  processingTimeMs?: number;\n  qualityScore?: number;\n  iterationsCompleted?: number;\n  currentIteration?: number;\n  errorMessage?: string;\n  expertIdentity?: string;\n  progressSteps?: ProgressStep[];\n  mutationHistory?: MutationHistoryItem[];\n  finalResults?: OptimizationResults;\n  createdAt: number;\n  updatedAt?: number;\n}\n\nexport interface OptimizationHookState {\n  // Core state\n  isOptimizing: boolean;\n  currentSession: OptimizationSession | null;\n  error: string | null;\n  \n  // Progress tracking\n  currentStep: number;\n  totalSteps: number;\n  progressMessage: string;\n  currentIteration: number;\n  \n  // Results\n  results: OptimizationResults | null;\n  qualityMetrics: OptimizationMetrics | null;\n  \n  // Actions\n  startOptimization: (prompt: string, contextDomain?: string, advanced?: boolean, iterations?: number) => Promise<void>;\n  resetOptimization: () => void;\n  retryOptimization: () => Promise<void>;\n  \n  // Health check\n  checkOllamaHealth: () => Promise<{ available: boolean; model: string; error?: string }>;\n}\n\n/**\n * Main optimization hook\n */\nexport function useOptimization(): OptimizationHookState {\n  // Local state\n  const [isOptimizing, setIsOptimizing] = useState(false);\n  const [currentSessionId, setCurrentSessionId] = useState<Id<'optimizationSessions'> | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [currentStep, setCurrentStep] = useState(0);\n  const [totalSteps, setTotalSteps] = useState(0);\n  const [progressMessage, setProgressMessage] = useState('');\n  const [currentIteration, setCurrentIteration] = useState(0);\n  const [results, setResults] = useState<OptimizationResults | null>(null);\n  const [qualityMetrics, setQualityMetrics] = useState<OptimizationMetrics | null>(null);\n  const [lastOptimizationParams, setLastOptimizationParams] = useState<{\n    prompt: string;\n    contextDomain?: string;\n    advanced?: boolean;\n    iterations?: number;\n  } | null>(null);\n\n  // Convex mutations\n  const createOptimization = useMutation(api.optimizations.createOptimizationRequest);\n  const quickOptimize = useMutation(api.actions.quickOptimize);\n  const advancedOptimize = useMutation(api.actions.advancedOptimize);\n  const ollamaHealth = useMutation(api.actions.checkOllamaHealth);\n\n  // Convex queries - get current session data\n  const currentSession = useQuery(\n    api.optimizations.getSession,\n    currentSessionId ? { sessionId: currentSessionId } : 'skip'\n  );\n\n  // Real-time progress tracking\n  useEffect(() => {\n    if (currentSession && isOptimizing) {\n      // Update progress based on session state\n      if (currentSession.progressSteps) {\n        const completedSteps = currentSession.progressSteps.filter(step => step.status === 'completed').length;\n        const processingSteps = currentSession.progressSteps.filter(step => step.status === 'processing').length;\n        \n        setCurrentStep(completedSteps + processingSteps);\n        setTotalSteps(currentSession.progressSteps.length);\n        \n        // Find current processing step for message\n        const processingStep = currentSession.progressSteps.find(step => step.status === 'processing');\n        if (processingStep) {\n          setProgressMessage(processingStep.step);\n        }\n      }\n\n      // Update current iteration\n      if (currentSession.currentIteration) {\n        setCurrentIteration(currentSession.currentIteration);\n      }\n\n      // Check if optimization completed\n      if (currentSession.status === 'completed') {\n        setIsOptimizing(false);\n        if (currentSession.finalResults) {\n          setResults(currentSession.finalResults);\n          setQualityMetrics(currentSession.finalResults.qualityMetrics);\n        }\n        setProgressMessage('Optimization completed successfully!');\n      }\n\n      // Check if optimization failed\n      if (currentSession.status === 'failed') {\n        setIsOptimizing(false);\n        setError(currentSession.errorMessage || 'Optimization failed');\n        setProgressMessage('Optimization failed');\n      }\n    }\n  }, [currentSession, isOptimizing]);\n\n  // Start optimization function\n  const startOptimization = useCallback(async (\n    prompt: string,\n    contextDomain?: string,\n    advanced = false,\n    iterations = 2\n  ) => {\n    if (!prompt.trim()) {\n      setError('Prompt cannot be empty');\n      return;\n    }\n\n    try {\n      // Reset state\n      setIsOptimizing(true);\n      setError(null);\n      setCurrentStep(0);\n      setTotalSteps(0);\n      setProgressMessage('Starting optimization...');\n      setCurrentIteration(0);\n      setResults(null);\n      setQualityMetrics(null);\n      \n      // Store params for retry\n      setLastOptimizationParams({ prompt, contextDomain, advanced, iterations });\n\n      // Create optimization session\n      const sessionId = await createOptimization({\n        originalPrompt: prompt,\n        contextDomain: contextDomain || undefined,\n      });\n\n      setCurrentSessionId(sessionId);\n      setProgressMessage(advanced ? 'Running advanced PromptWizard optimization...' : 'Running quick optimization...');\n\n      // Start optimization\n      let result;\n      if (advanced) {\n        setTotalSteps(3); // expert identity, iterations, finalization\n        result = await advancedOptimize({ \n          sessionId, \n          maxIterations: iterations \n        });\n      } else {\n        setTotalSteps(4); // expert identity, mutations, selection, improvements\n        result = await quickOptimize({ sessionId });\n      }\n\n      if (!result.success) {\n        throw new Error(result.error || 'Optimization failed');\n      }\n\n    } catch (err) {\n      console.error('Optimization error:', err);\n      setIsOptimizing(false);\n      setError(err instanceof Error ? err.message : 'An unexpected error occurred');\n      setProgressMessage('Optimization failed');\n    }\n  }, [createOptimization, quickOptimize, advancedOptimize]);\n\n  // Reset optimization state\n  const resetOptimization = useCallback(() => {\n    setIsOptimizing(false);\n    setCurrentSessionId(null);\n    setError(null);\n    setCurrentStep(0);\n    setTotalSteps(0);\n    setProgressMessage('');\n    setCurrentIteration(0);\n    setResults(null);\n    setQualityMetrics(null);\n    setLastOptimizationParams(null);\n  }, []);\n\n  // Retry last optimization\n  const retryOptimization = useCallback(async () => {\n    if (lastOptimizationParams) {\n      await startOptimization(\n        lastOptimizationParams.prompt,\n        lastOptimizationParams.contextDomain,\n        lastOptimizationParams.advanced,\n        lastOptimizationParams.iterations\n      );\n    }\n  }, [lastOptimizationParams, startOptimization]);\n\n  // Health check function\n  const checkOllamaHealth = useCallback(async () => {\n    try {\n      const health = await ollamaHealth({});\n      return health;\n    } catch (err) {\n      return {\n        available: false,\n        model: 'qwen3:4b',\n        error: err instanceof Error ? err.message : 'Health check failed',\n      };\n    }\n  }, [ollamaHealth]);\n\n  return {\n    // Core state\n    isOptimizing,\n    currentSession,\n    error,\n    \n    // Progress tracking\n    currentStep,\n    totalSteps,\n    progressMessage,\n    currentIteration,\n    \n    // Results\n    results,\n    qualityMetrics,\n    \n    // Actions\n    startOptimization,\n    resetOptimization,\n    retryOptimization,\n    checkOllamaHealth,\n  };\n}\n\n/**\n * Hook for accessing optimization history\n */\nexport function useOptimizationHistory(limit = 10) {\n  const recentSessions = useQuery(api.sessions.getRecentSessions, { limit });\n  \n  return {\n    sessions: recentSessions || [],\n    isLoading: recentSessions === undefined,\n  };\n}\n\n/**\n * Hook for managing user feedback\n */\nexport function useFeedback() {\n  const submitFeedback = useMutation(api.sessions.submitFeedback);\n  \n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const submitOptimizationFeedback = useCallback(async (\n    sessionId: Id<'optimizationSessions'>,\n    rating: number,\n    feedbackText?: string,\n    improvementSuggestions?: string[],\n    isHelpful?: boolean\n  ) => {\n    try {\n      setIsSubmitting(true);\n      setError(null);\n      \n      await submitFeedback({\n        sessionId,\n        rating,\n        feedbackText,\n        improvementSuggestions,\n        isHelpful,\n      });\n      \n      return true;\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to submit feedback');\n      return false;\n    } finally {\n      setIsSubmitting(false);\n    }\n  }, [submitFeedback]);\n\n  return {\n    submitOptimizationFeedback,\n    isSubmitting,\n    error,\n  };\n}\n\n/**\n * Hook for error handling with automatic retry logic\n */\nexport function useOptimizationErrorHandler() {\n  const [retryCount, setRetryCount] = useState(0);\n  const [isRetrying, setIsRetrying] = useState(false);\n  \n  const handleError = useCallback((error: string, retryFunction?: () => Promise<void>) => {\n    console.error('Optimization error:', error);\n    \n    // Auto-retry logic for transient errors\n    const isTransientError = error.includes('connection') || \n                           error.includes('timeout') || \n                           error.includes('network');\n    \n    if (isTransientError && retryCount < 3 && retryFunction) {\n      setTimeout(async () => {\n        setIsRetrying(true);\n        setRetryCount(prev => prev + 1);\n        \n        try {\n          await retryFunction();\n          setRetryCount(0);\n        } catch (err) {\n          console.error('Retry failed:', err);\n        } finally {\n          setIsRetrying(false);\n        }\n      }, Math.pow(2, retryCount) * 1000); // Exponential backoff\n    }\n  }, [retryCount]);\n\n  const resetRetry = useCallback(() => {\n    setRetryCount(0);\n    setIsRetrying(false);\n  }, []);\n\n  return {\n    handleError,\n    retryCount,\n    isRetrying,\n    resetRetry,\n  };\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 295, "column": 0}, "map": {"version":3,"sources":["file:///home/matt/prompt-wizard/nextjs-app/src/components/OptimizationForm.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\n\ninterface OptimizationFormProps {\n  onOptimize: (prompt: string, contextDomain: string, useAdvancedMode: boolean, iterations: number) => Promise<void>;\n  isOptimizing: boolean;\n  useAdvancedMode: boolean;\n  setUseAdvancedMode: (value: boolean) => void;\n}\n\nexport function OptimizationForm({ onOptimize, isOptimizing, useAdvancedMode, setUseAdvancedMode }: OptimizationFormProps) {\n  const [prompt, setPrompt] = useState(\"\");\n  const [contextDomain, setContextDomain] = useState(\"\");\n  const [iterations, setIterations] = useState(2);\n\n  const handleOptimize = async (advancedMode?: boolean) => {\n    if (!prompt.trim()) return;\n\n    const isAdvanced = advancedMode ?? useAdvancedMode;\n    \n    try {\n      await onOptimize(prompt, contextDomain, isAdvanced, iterations);\n      \n      // Clear form on successful start\n      setPrompt(\"\");\n      setContextDomain(\"\");\n    } catch (error) {\n      console.error(\"Failed to start optimization:\", error);\n    }\n  };\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      {/* Mode Information Panel */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <div className={`p-4 rounded-lg border-2 transition-all ${\n          !useAdvancedMode ? \"border-blue-200 bg-blue-50\" : \"border-gray-200 bg-gray-50\"\n        }`}>\n          <h4 className=\"font-semibold text-blue-900 mb-2\">Quick Optimize</h4>\n          <p className=\"text-sm text-gray-600\">Single-pass optimization with basic system prompts</p>\n          <div className=\"mt-2 text-xs text-gray-500\">⏱️ 60-90 seconds • 🔧 Development demo</div>\n        </div>\n        <div className={`p-4 rounded-lg border-2 transition-all ${\n          useAdvancedMode ? \"border-purple-200 bg-purple-50\" : \"border-gray-200 bg-gray-50\"\n        }`}>\n          <h4 className=\"font-semibold text-purple-900 mb-2\">Advanced Mode</h4>\n          <p className=\"text-sm text-gray-600\">Multi-iteration refinement with multiple system prompts</p>\n          <div className=\"mt-2 text-xs text-gray-500\">⏱️ 90-120 seconds • 🔧 Development demo</div>\n        </div>\n      </div>\n      \n      {/* Advanced Mode Controls */}\n      {useAdvancedMode && (\n        <div className=\"p-4 bg-purple-50 rounded-lg border border-purple-200\">\n          <label className=\"block text-sm font-medium text-purple-900 mb-2\">\n            Optimization Iterations: {iterations}\n          </label>\n          <input\n            type=\"range\"\n            min=\"1\"\n            max=\"5\"\n            value={iterations}\n            onChange={(e) => setIterations(parseInt(e.target.value))}\n            className=\"w-full h-2 bg-purple-200 rounded-lg appearance-none cursor-pointer slider\"\n            disabled={isOptimizing}\n          />\n          <div className=\"flex justify-between text-xs text-purple-600 mt-1\">\n            <span>1 (Fast)</span>\n            <span>3 (Balanced)</span>\n            <span>5 (Thorough)</span>\n          </div>\n        </div>\n      )}\n\n      {/* Main Input Form */}\n      <div className=\"space-y-6\">\n        <div>\n          <label htmlFor=\"prompt\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Original Prompt *\n          </label>\n          <div className=\"relative\">\n            <textarea\n              id=\"prompt\"\n              value={prompt}\n              onChange={(e) => setPrompt(e.target.value)}\n              placeholder=\"Enter the prompt you'd like to optimize using Microsoft PromptWizard techniques...\"\n              className=\"w-full h-40 p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none text-sm leading-relaxed\"\n              disabled={isOptimizing}\n            />\n            <div className=\"absolute bottom-3 right-3 text-xs text-gray-400\">\n              {prompt.length} characters\n            </div>\n          </div>\n        </div>\n\n        <div>\n          <label htmlFor=\"context\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Context Domain (Optional)\n          </label>\n          <input\n            id=\"context\"\n            type=\"text\"\n            value={contextDomain}\n            onChange={(e) => setContextDomain(e.target.value)}\n            placeholder=\"e.g., marketing, technical documentation, creative writing, data analysis...\"\n            className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            disabled={isOptimizing}\n          />\n        </div>\n\n        {/* Action Buttons */}\n        <div className=\"space-y-3\">\n          <button\n            onClick={() => handleOptimize()}\n            disabled={!prompt.trim() || isOptimizing}\n            className={`w-full py-4 px-6 font-semibold rounded-lg transition-all duration-200 ${\n              useAdvancedMode\n                ? \"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white shadow-lg\"\n                : \"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white shadow-lg\"\n            } disabled:bg-gray-400 disabled:cursor-not-allowed disabled:shadow-none`}\n          >\n            {isOptimizing ? (\n              <div className=\"flex items-center justify-center\">\n                <svg className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" fill=\"none\" viewBox=\"0 0 24 24\">\n                  <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                  <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                </svg>\n                {useAdvancedMode ? \"Processing Advanced Optimization...\" : \"Optimizing...\"}\n              </div>\n            ) : (\n              <div className=\"flex items-center justify-center\">\n                <svg className=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n                </svg>\n                {useAdvancedMode ? \"Start Advanced Optimization\" : \"Quick Optimize\"}\n              </div>\n            )}\n          </button>\n          \n          <div className=\"bg-amber-50 border border-amber-200 rounded p-3 mt-2\">\n            <p className=\"text-xs text-amber-800 text-center px-4\">\n              ⚠️ {useAdvancedMode \n                ? `Processing will take 90-120 seconds. This is a development demo using basic system prompts.`\n                : \"Processing will take 60-90 seconds. This is a development demo using basic system prompts.\"\n              }\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 666, "column": 0}, "map": {"version":3,"sources":["file:///home/matt/prompt-wizard/nextjs-app/src/components/ProgressDisplay.tsx"],"sourcesContent":["\"use client\";\n\ninterface ProgressDisplayProps {\n  isOptimizing: boolean;\n  currentStep: number;\n  totalSteps: number;\n  message: string;\n}\n\nexport function ProgressDisplay({ isOptimizing, currentStep, totalSteps, message }: ProgressDisplayProps) {\n  if (!isOptimizing) return null;\n\n  const progress = totalSteps > 0 ? (currentStep / totalSteps) * 100 : 0;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n      <div className=\"bg-white rounded-lg p-8 max-w-md w-full mx-4\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n          <h3 className=\"text-lg font-semibold mb-2\">Optimizing Prompt</h3>\n          <p className=\"text-gray-600 mb-4\">{message}</p>\n          \n          {totalSteps > 0 && (\n            <div className=\"space-y-2\">\n              <div className=\"flex justify-between text-sm text-gray-600\">\n                <span>Step {currentStep} of {totalSteps}</span>\n                <span>{Math.round(progress)}%</span>\n              </div>\n              <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                <div \n                  className=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\n                  style={{ width: `${progress}%` }}\n                />\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAAA;;AASO,SAAS,gBAAgB,EAAE,YAAY,EAAE,WAAW,EAAE,UAAU,EAAE,OAAO,EAAwB;IACtG,IAAI,CAAC,cAAc,OAAO;IAE1B,MAAM,WAAW,aAAa,IAAI,AAAC,cAAc,aAAc,MAAM;IAErE,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAG,WAAU;kCAA6B;;;;;;kCAC3C,8OAAC;wBAAE,WAAU;kCAAsB;;;;;;oBAElC,aAAa,mBACZ,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;;4CAAK;4CAAM;4CAAY;4CAAK;;;;;;;kDAC7B,8OAAC;;4CAAM,KAAK,KAAK,CAAC;4CAAU;;;;;;;;;;;;;0CAE9B,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCACC,WAAU;oCACV,OAAO;wCAAE,OAAO,GAAG,SAAS,CAAC,CAAC;oCAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASjD","debugId":null}},
    {"offset": {"line": 783, "column": 0}, "map": {"version":3,"sources":["file:///home/matt/prompt-wizard/nextjs-app/src/components/QualityMetrics.tsx"],"sourcesContent":["\"use client\";\n\nimport { OptimizationMetrics } from \"../hooks/useOptimization\";\n\n// UI Component Types\ninterface ProgressBarProps {\n  label: string;\n  value: number;\n  maxValue?: number;\n  className?: string;\n  showValue?: boolean;\n}\n\ninterface QualityMetricsProps {\n  metrics: OptimizationMetrics;\n  overallScore?: number;\n}\n\n// Progress Bar Component\nfunction ProgressBar({ label, value, maxValue = 10, className = \"\", showValue = true }: ProgressBarProps) {\n  const percentage = Math.min((value / maxValue) * 100, 100);\n  \n  const getColorClass = (percentage: number) => {\n    if (percentage >= 80) return \"bg-emerald-500\";\n    if (percentage >= 60) return \"bg-blue-500\";\n    if (percentage >= 40) return \"bg-yellow-500\";\n    return \"bg-red-500\";\n  };\n\n  return (\n    <div className={`space-y-1 ${className}`}>\n      <div className=\"flex justify-between items-center text-sm\">\n        <span className=\"font-medium text-gray-700\">{label}</span>\n        {showValue && (\n          <span className=\"text-gray-600\">{value.toFixed(1)}/{maxValue}</span>\n        )}\n      </div>\n      <div className=\"w-full bg-gray-200 rounded-full h-2.5\">\n        <div \n          className={`h-2.5 rounded-full transition-all duration-500 ease-out ${getColorClass(percentage)}`}\n          style={{ width: `${percentage}%` }}\n        />\n      </div>\n    </div>\n  );\n}\n\n// Quality Metrics Dashboard Component\nexport function QualityMetrics({ metrics, overallScore }: QualityMetricsProps) {\n  return (\n    <div className=\"bg-white rounded-lg shadow-lg p-6\">\n      <div className=\"flex items-center justify-between mb-4\">\n        <h3 className=\"text-lg font-semibold text-gray-900\">Quality Metrics</h3>\n        {overallScore && (\n          <div className=\"flex items-center space-x-2\">\n            <span className=\"text-sm font-medium text-gray-600\">Overall Score:</span>\n            <span className=\"text-xl font-bold text-blue-600\">{overallScore.toFixed(1)}</span>\n          </div>\n        )}\n      </div>\n      \n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <ProgressBar label=\"Clarity\" value={metrics.clarity} />\n        <ProgressBar label=\"Specificity\" value={metrics.specificity} />\n        <ProgressBar label=\"Engagement\" value={metrics.engagement} />\n        {metrics.structure && (\n          <ProgressBar label=\"Structure\" value={metrics.structure} />\n        )}\n        {metrics.completeness && (\n          <ProgressBar label=\"Completeness\" value={metrics.completeness} />\n        )}\n        {metrics.errorPrevention && (\n          <ProgressBar label=\"Error Prevention\" value={metrics.errorPrevention} />\n        )}\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAAA;;AAkBA,yBAAyB;AACzB,SAAS,YAAY,EAAE,KAAK,EAAE,KAAK,EAAE,WAAW,EAAE,EAAE,YAAY,EAAE,EAAE,YAAY,IAAI,EAAoB;IACtG,MAAM,aAAa,KAAK,GAAG,CAAC,AAAC,QAAQ,WAAY,KAAK;IAEtD,MAAM,gBAAgB,CAAC;QACrB,IAAI,cAAc,IAAI,OAAO;QAC7B,IAAI,cAAc,IAAI,OAAO;QAC7B,IAAI,cAAc,IAAI,OAAO;QAC7B,OAAO;IACT;IAEA,qBACE,8OAAC;QAAI,WAAW,CAAC,UAAU,EAAE,WAAW;;0BACtC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAK,WAAU;kCAA6B;;;;;;oBAC5C,2BACC,8OAAC;wBAAK,WAAU;;4BAAiB,MAAM,OAAO,CAAC;4BAAG;4BAAE;;;;;;;;;;;;;0BAGxD,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBACC,WAAW,CAAC,wDAAwD,EAAE,cAAc,aAAa;oBACjG,OAAO;wBAAE,OAAO,GAAG,WAAW,CAAC,CAAC;oBAAC;;;;;;;;;;;;;;;;;AAK3C;AAGO,SAAS,eAAe,EAAE,OAAO,EAAE,YAAY,EAAuB;IAC3E,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAsC;;;;;;oBACnD,8BACC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAK,WAAU;0CAAoC;;;;;;0CACpD,8OAAC;gCAAK,WAAU;0CAAmC,aAAa,OAAO,CAAC;;;;;;;;;;;;;;;;;;0BAK9E,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAY,OAAM;wBAAU,OAAO,QAAQ,OAAO;;;;;;kCACnD,8OAAC;wBAAY,OAAM;wBAAc,OAAO,QAAQ,WAAW;;;;;;kCAC3D,8OAAC;wBAAY,OAAM;wBAAa,OAAO,QAAQ,UAAU;;;;;;oBACxD,QAAQ,SAAS,kBAChB,8OAAC;wBAAY,OAAM;wBAAY,OAAO,QAAQ,SAAS;;;;;;oBAExD,QAAQ,YAAY,kBACnB,8OAAC;wBAAY,OAAM;wBAAe,OAAO,QAAQ,YAAY;;;;;;oBAE9D,QAAQ,eAAe,kBACtB,8OAAC;wBAAY,OAAM;wBAAmB,OAAO,QAAQ,eAAe;;;;;;;;;;;;;;;;;;AAK9E","debugId":null}},
    {"offset": {"line": 968, "column": 0}, "map": {"version":3,"sources":["file:///home/matt/prompt-wizard/nextjs-app/src/components/ErrorHandling.tsx"],"sourcesContent":["\"use client\";\n\ninterface ErrorHandlingProps {\n  error: string | null;\n  onDismiss: () => void;\n}\n\nexport function ErrorHandling({ error, onDismiss }: ErrorHandlingProps) {\n  if (!error) return null;\n\n  return (\n    <div className=\"fixed top-4 right-4 z-50 max-w-md\">\n      <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center\">\n            <svg className=\"w-5 h-5 mr-2\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n            </svg>\n            <span className=\"text-sm\">{error}</span>\n          </div>\n          <button\n            onClick={onDismiss}\n            className=\"ml-2 text-red-500 hover:text-red-700\"\n          >\n            ×\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAAA;;AAOO,SAAS,cAAc,EAAE,KAAK,EAAE,SAAS,EAAsB;IACpE,IAAI,CAAC,OAAO,OAAO;IAEnB,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;gCAAe,MAAK;gCAAe,SAAQ;0CACxD,cAAA,8OAAC;oCAAK,UAAS;oCAAU,GAAE;oCAA0N,UAAS;;;;;;;;;;;0CAEhQ,8OAAC;gCAAK,WAAU;0CAAW;;;;;;;;;;;;kCAE7B,8OAAC;wBACC,SAAS;wBACT,WAAU;kCACX;;;;;;;;;;;;;;;;;;;;;;AAOX","debugId":null}},
    {"offset": {"line": 1048, "column": 0}, "map": {"version":3,"sources":["file:///home/matt/prompt-wizard/nextjs-app/src/app/demo-page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { OptimizationForm } from \"../components/OptimizationForm\";\nimport { ProgressDisplay } from \"../components/ProgressDisplay\";\nimport { QualityMetrics } from \"../components/QualityMetrics\";\nimport { ErrorHandling } from \"../components/ErrorHandling\";\n\n// Demo optimization engine for contextually relevant responses\nfunction generateDemoOptimization(originalPrompt: string, contextDomain: string, useAdvancedMode: boolean): any {\n  // Generate realistic quality metrics with some variation\n  const baseMetrics = {\n    clarity: 7.5 + Math.random() * 2,\n    specificity: 7.0 + Math.random() * 2.5,\n    engagement: 8.0 + Math.random() * 2,\n    structure: 7.5 + Math.random() * 2,\n    completeness: 7.0 + Math.random() * 2.5,\n    errorPrevention: 7.0 + Math.random() * 2,\n    overall: 0\n  };\n  baseMetrics.overall = (baseMetrics.clarity + baseMetrics.specificity + baseMetrics.engagement + \n                        baseMetrics.structure + baseMetrics.completeness + baseMetrics.errorPrevention) / 6;\n\n  // Enhancement patterns based on common prompt optimization techniques\n  const enhancementPatterns = {\n    structure: [\"Add clear step-by-step structure\", \"Break into logical sections\", \"Include numbered steps\"],\n    specificity: [\"Add specific examples\", \"Include technical details\", \"Define key terms\"],\n    context: [\"Provide background context\", \"Explain the problem scope\", \"Add relevant constraints\"],\n    output: [\"Specify desired output format\", \"Define success criteria\", \"Include quality standards\"],\n    audience: [\"Clarify target audience\", \"Adjust technical level\", \"Consider user expertise\"],\n    examples: [\"Add practical examples\", \"Include use cases\", \"Provide templates\"]\n  };\n\n  // Analyze the original prompt to determine what enhancements to apply\n  const prompt = originalPrompt.toLowerCase();\n  const improvements = [];\n  const expertInsights = [];\n  \n  // Generate contextually relevant enhanced prompt\n  let enhancedPrompt = originalPrompt;\n  \n  // Add structure if missing\n  if (!prompt.includes(\"step\") && !prompt.includes(\"list\")) {\n    enhancedPrompt = `Create a comprehensive, step-by-step ${enhancedPrompt.toLowerCase()}`;\n    improvements.push(\"Added structured approach with clear steps\");\n    expertInsights.push(\"Step-by-step structure improves comprehension and actionability\");\n  }\n  \n  // Add specificity if too general\n  if (prompt.length < 50 || (!prompt.includes(\"example\") && !prompt.includes(\"specific\"))) {\n    enhancedPrompt += \", including specific examples and practical implementations\";\n    improvements.push(\"Enhanced specificity with concrete examples\");\n    expertInsights.push(\"Specific examples make responses more actionable and valuable\");\n  }\n  \n  // Add context domain if provided\n  if (contextDomain && contextDomain !== \"general\") {\n    enhancedPrompt += ` tailored for ${contextDomain} applications`;\n    improvements.push(`Customized for ${contextDomain} domain`);\n    expertInsights.push(`Domain-specific context improves relevance and accuracy`);\n  }\n  \n  // Add advanced requirements if advanced mode is enabled\n  if (useAdvancedMode) {\n    enhancedPrompt += \". Include best practices, potential pitfalls to avoid, and advanced optimization techniques\";\n    improvements.push(\"Added advanced techniques and best practices\");\n    improvements.push(\"Included potential pitfalls and error prevention\");\n    expertInsights.push(\"Advanced mode provides deeper insights and professional-level guidance\");\n  }\n  \n  // Add quality requirements\n  if (!prompt.includes(\"quality\") && !prompt.includes(\"best practice\")) {\n    enhancedPrompt += \". Ensure high quality, accuracy, and adherence to current industry standards\";\n    improvements.push(\"Added quality standards and industry compliance\");\n    expertInsights.push(\"Quality standards ensure reliable and professional outcomes\");\n  }\n  \n  // Ensure we have enough improvements and insights\n  while (improvements.length < 3) {\n    const randomPattern = enhancementPatterns[Object.keys(enhancementPatterns)[Math.floor(Math.random() * Object.keys(enhancementPatterns).length)]];\n    const randomImprovement = randomPattern[Math.floor(Math.random() * randomPattern.length)];\n    if (!improvements.includes(randomImprovement)) {\n      improvements.push(randomImprovement);\n    }\n  }\n  \n  while (expertInsights.length < 3) {\n    const insights = [\n      \"Clear requirements lead to better AI responses\",\n      \"Context-specific prompts produce more relevant results\",\n      \"Examples and constraints improve output quality\",\n      \"Structured prompts enable systematic responses\",\n      \"Domain expertise context enhances accuracy\"\n    ];\n    const randomInsight = insights[Math.floor(Math.random() * insights.length)];\n    if (!expertInsights.includes(randomInsight)) {\n      expertInsights.push(randomInsight);\n    }\n  }\n\n  return {\n    bestPrompt: enhancedPrompt,\n    improvements: improvements.slice(0, 4), // Limit to 4 improvements\n    qualityMetrics: baseMetrics,\n    reasoning: `The prompt was optimized for ${useAdvancedMode ? 'advanced' : 'standard'} use with enhanced clarity, specificity, and structure.`,\n    expertInsights: expertInsights.slice(0, 3) // Limit to 3 insights\n  };\n}\n\nconst mockSessions = [\n  {\n    _id: \"demo-1\" as any,\n    status: \"completed\" as const,\n    qualityScore: 8.3,\n    prompt: {\n      originalPrompt: \"How to make a website responsive?\"\n    },\n    finalResults: {\n      bestPrompt: \"Create a comprehensive guide for implementing responsive web design...\"\n    },\n    createdAt: Date.now() - 86400000\n  },\n  {\n    _id: \"demo-2\" as any,\n    status: \"completed\" as const,\n    qualityScore: 7.9,\n    prompt: {\n      originalPrompt: \"Write about JavaScript functions\"\n    },\n    finalResults: {\n      bestPrompt: \"Explain JavaScript functions with practical examples...\"\n    },\n    createdAt: Date.now() - 172800000\n  }\n];\n\ninterface OptimizationResultsProps {\n  isVisible: boolean;\n  onClose: () => void;\n  results: any;\n}\n\n// Optimization Results Modal Component\nfunction OptimizationResults({ isVisible, onClose, results }: OptimizationResultsProps) {\n  const [showFeedback, setShowFeedback] = useState(false);\n  \n  if (!isVisible || !results) return null;\n\n  return (\n    <>\n      <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n        <div className=\"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\n          <div className=\"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center\">\n            <h2 className=\"text-xl font-semibold\">Optimization Results</h2>\n            <button\n              onClick={onClose}\n              className=\"text-gray-500 hover:text-gray-700 text-2xl font-bold\"\n            >\n              ×\n            </button>\n          </div>\n          \n          <div className=\"p-6 space-y-6\">\n          {/* Results Summary */}\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div className=\"bg-blue-50 rounded-lg p-4 text-center\">\n              <div className=\"text-2xl font-bold text-blue-600\">\n                {results.qualityMetrics.overall.toFixed(1)}\n              </div>\n              <div className=\"text-sm text-gray-600\">Quality Score</div>\n            </div>\n            <div className=\"bg-green-50 rounded-lg p-4 text-center\">\n              <div className=\"text-2xl font-bold text-green-600\">3</div>\n              <div className=\"text-sm text-gray-600\">Iterations</div>\n            </div>\n            <div className=\"bg-purple-50 rounded-lg p-4 text-center\">\n              <div className=\"text-2xl font-bold text-purple-600\">45s</div>\n              <div className=\"text-sm text-gray-600\">Processing Time</div>\n            </div>\n          </div>\n\n          {/* Final Optimized Prompt */}\n          <div className=\"bg-gray-50 rounded-lg p-4\">\n            <h3 className=\"font-semibold mb-2\">Optimized Prompt:</h3>\n            <div className=\"bg-white rounded border p-3 text-sm\">\n              {results.bestPrompt}\n            </div>\n          </div>\n\n          {/* Improvements List */}\n          <div className=\"space-y-4\">\n            <h3 className=\"font-semibold\">Key Improvements:</h3>\n            <div className=\"bg-white rounded-lg border p-4\">\n              <div className=\"space-y-2\">\n                {results.improvements.map((improvement, idx) => (\n                  <div key={idx} className=\"text-sm flex items-start\">\n                    <span className=\"inline-block w-2 h-2 bg-blue-500 rounded-full mt-1.5 mr-2 flex-shrink-0\"></span>\n                    {improvement}\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n\n          {/* Expert Insights */}\n          <div className=\"space-y-4\">\n            <h3 className=\"font-semibold\">Expert Insights:</h3>\n            <div className=\"bg-indigo-50 rounded-lg p-4\">\n              <div className=\"space-y-2\">\n                {results.expertInsights?.map((insight, idx) => (\n                  <div key={idx} className=\"text-sm flex items-start\">\n                    <span className=\"inline-block w-2 h-2 bg-indigo-500 rounded-full mt-1.5 mr-2 flex-shrink-0\"></span>\n                    {insight}\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n\n            {/* Feedback Button */}\n            <div className=\"mt-6 pt-6 border-t\">\n              <button\n                onClick={() => setShowFeedback(true)}\n                className=\"w-full px-4 py-3 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors font-medium\"\n              >\n                💬 Share Feedback on This Optimization\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Feedback Modal */}\n      {showFeedback && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4\">\n            <h3 className=\"text-lg font-semibold mb-4\">Demo Mode</h3>\n            <p className=\"text-gray-600 mb-4\">This is a demo deployment. Feedback functionality requires a backend connection.</p>\n            <button\n              onClick={() => setShowFeedback(false)}\n              className=\"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n            >\n              Close\n            </button>\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n\nexport default function DemoPage() {\n  const [showResults, setShowResults] = useState(false);\n  const [isOptimizing, setIsOptimizing] = useState(false);\n  const [currentStep, setCurrentStep] = useState(0);\n  const [totalSteps, setTotalSteps] = useState(4);\n  const [progressMessage, setProgressMessage] = useState(\"\");\n  const [error, setError] = useState<string | null>(null);\n  const [optimizationResults, setOptimizationResults] = useState<any>(null);\n\n  const handleOptimize = async (prompt: string, contextDomain: string, useAdvancedMode: boolean, iterations: number) => {\n    if (!prompt.trim()) return;\n    \n    setIsOptimizing(true);\n    setError(null);\n    setCurrentStep(0);\n    setTotalSteps(4);\n    setProgressMessage(\"Starting optimization...\");\n\n    // Simulate optimization process\n    const steps = [\n      \"Analyzing prompt structure...\",\n      \"Generating improvements...\",\n      \"Running quality assessment...\",\n      \"Finalizing results...\"\n    ];\n\n    for (let i = 0; i < steps.length; i++) {\n      setCurrentStep(i + 1);\n      setProgressMessage(steps[i]);\n      await new Promise(resolve => setTimeout(resolve, 1500));\n    }\n\n    // Generate contextually relevant results based on user input\n    const demoResults = generateDemoOptimization(prompt, contextDomain, useAdvancedMode);\n    setOptimizationResults(demoResults);\n\n    setIsOptimizing(false);\n    setProgressMessage(\"Optimization completed!\");\n    setShowResults(true);\n  };\n\n  const checkHealth = async () => {\n    alert(JSON.stringify({\n      status: \"Demo Mode\",\n      message: \"This is a frontend-only demo deployment. Backend health check requires Convex connection.\",\n      available: false,\n      model: \"qwen3:4b\"\n    }, null, 2));\n  };\n\n  const resetOptimization = () => {\n    setError(null);\n    setIsOptimizing(false);\n    setCurrentStep(0);\n    setProgressMessage(\"\");\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50\">\n      {/* Optimization Progress Modal */}\n      <ProgressDisplay \n        isOptimizing={isOptimizing}\n        currentStep={currentStep}\n        totalSteps={totalSteps}\n        message={progressMessage}\n      />\n      \n      {/* Results Modal */}\n      <OptimizationResults \n        isVisible={showResults}\n        onClose={() => setShowResults(false)}\n        results={optimizationResults}\n      />\n\n      {/* Error Alert */}\n      <ErrorHandling \n        error={error}\n        onDismiss={resetOptimization}\n      />\n\n      <div className=\"container mx-auto px-4 py-8 max-w-7xl\">\n        {/* Enhanced Header */}\n        <header className=\"text-center mb-12\">\n          <div className=\"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full mb-4\">\n            <svg className=\"w-8 h-8 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n            </svg>\n          </div>\n          <h1 className=\"text-5xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent mb-4\">\n            PromptEvolver\n          </h1>\n          <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6 max-w-2xl mx-auto\">\n            <p className=\"text-lg font-semibold text-yellow-800 mb-2\">🎯 Demo Mode - Frontend Only</p>\n            <p className=\"text-sm text-yellow-700\">\n              This is a demo deployment showing the UI and simulated functionality • No backend processing\n            </p>\n          </div>\n          <p className=\"text-xl text-gray-600 mb-6 max-w-2xl mx-auto\">\n            Advanced Prompt Optimization Demo - UI Preview\n          </p>\n          <div className=\"flex flex-wrap justify-center gap-4\">\n            <button\n              onClick={checkHealth}\n              className=\"inline-flex items-center px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors shadow-md\"\n            >\n              <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n              </svg>\n              System Health (Demo)\n            </button>\n          </div>\n        </header>\n\n        {/* Main Content Grid */}\n        <div className=\"grid grid-cols-1 xl:grid-cols-3 gap-8\">\n          {/* Left Column - Optimization Form */}\n          <OptimizationForm \n            onOptimize={handleOptimize}\n            isOptimizing={isOptimizing}\n          />\n          \n          {/* Quality Metrics Dashboard */}\n          <div className=\"xl:col-span-2\">\n            <QualityMetrics \n              metrics={optimizationResults?.qualityMetrics || {\n                clarity: 8.5,\n                specificity: 7.8,\n                engagement: 9.2,\n                structure: 8.0,\n                completeness: 8.7,\n                errorPrevention: 7.5,\n                overall: 8.3\n              }} \n              overallScore={optimizationResults?.qualityMetrics?.overall || 8.3}\n            />\n          </div>\n\n          {/* Right Column - Recent Sessions & Stats */}\n          <div className=\"xl:col-span-1 space-y-6\">\n            {/* Quick Stats */}\n            <div className=\"bg-white rounded-xl shadow-lg p-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Session Stats</h3>\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div className=\"text-center p-3 bg-blue-50 rounded-lg\">\n                  <div className=\"text-2xl font-bold text-blue-600\">\n                    {mockSessions.length}\n                  </div>\n                  <div className=\"text-xs text-gray-600\">Demo Sessions</div>\n                </div>\n                <div className=\"text-center p-3 bg-green-50 rounded-lg\">\n                  <div className=\"text-2xl font-bold text-green-600\">\n                    {mockSessions.filter(s => s.status === \"completed\").length}\n                  </div>\n                  <div className=\"text-xs text-gray-600\">Completed</div>\n                </div>\n              </div>\n            </div>\n\n            {/* Recent Sessions */}\n            <div className=\"bg-white rounded-xl shadow-lg p-6\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"text-lg font-semibold text-gray-900\">Demo Optimizations</h3>\n                <svg className=\"w-5 h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                </svg>\n              </div>\n              \n              <div className=\"space-y-3 max-h-96 overflow-y-auto\">\n                {mockSessions.map((session) => (\n                  <div key={session._id} className=\"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors\">\n                    <div className=\"flex justify-between items-start mb-3\">\n                      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n                        <svg className=\"w-3 h-3 mr-1\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                          <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n                        </svg>\n                        {session.status}\n                      </span>\n                      <div className=\"flex items-center\">\n                        <svg className=\"w-4 h-4 text-yellow-400 mr-1\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                          <path d=\"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z\" />\n                        </svg>\n                        <span className=\"text-sm font-medium text-gray-700\">\n                          {session.qualityScore.toFixed(1)}\n                        </span>\n                      </div>\n                    </div>\n                    \n                    <div className=\"space-y-2\">\n                      <div>\n                        <div className=\"text-xs font-medium text-gray-500 mb-1\">Original:</div>\n                        <p className=\"text-sm text-gray-700 line-clamp-2\">\n                          {session.prompt?.originalPrompt.substring(0, 80)}\n                          {(session.prompt?.originalPrompt.length || 0) > 80 && \"...\"}\n                        </p>\n                      </div>\n                      \n                      <div>\n                        <div className=\"text-xs font-medium text-gray-500 mb-1\">Optimized:</div>\n                        <p className=\"text-sm text-gray-900 line-clamp-2\">\n                          {session.finalResults?.bestPrompt.substring(0, 80)}\n                          {session.finalResults?.bestPrompt.length! > 80 && \"...\"}\n                        </p>\n                      </div>\n                    </div>\n                    \n                    <div className=\"mt-3 flex items-center justify-between text-xs text-gray-500\">\n                      <div className=\"flex items-center\">\n                        <svg className=\"w-3 h-3 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                        </svg>\n                        {new Date(session.createdAt).toLocaleDateString()}\n                      </div>\n                      <button className=\"text-blue-600 hover:text-blue-800 font-medium\">\n                        Demo Data\n                      </button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Enhanced Footer */}\n        <footer className=\"text-center mt-16 pb-8\">\n          <div className=\"max-w-4xl mx-auto\">\n            <div className=\"bg-white rounded-xl shadow-lg p-8\">\n              <div className=\"flex flex-wrap justify-center items-center gap-6 text-sm text-gray-600\">\n                <div className=\"flex items-center\">\n                  <div className=\"w-2 h-2 bg-blue-500 rounded-full mr-2\"></div>\n                  <span>Next.js 15 + React 19</span>\n                </div>\n                <div className=\"flex items-center\">\n                  <div className=\"w-2 h-2 bg-yellow-500 rounded-full mr-2\"></div>\n                  <span>Demo Mode - Frontend Only</span>\n                </div>\n                <div className=\"flex items-center\">\n                  <div className=\"w-2 h-2 bg-green-500 rounded-full mr-2\"></div>\n                  <span>126 kB Bundle Size</span>\n                </div>\n              </div>\n              <div className=\"mt-4 text-xs text-blue-600 font-medium\">\n                🎯 Frontend demo deployment - Full functionality requires Convex backend\n              </div>\n            </div>\n          </div>\n        </footer>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2213, "column": 0}, "map": {"version":3,"sources":["file:///home/matt/prompt-wizard/nextjs-app/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useOptimization, useOptimizationHistory } from \"../hooks/useOptimization\";\nimport { OptimizationForm } from \"../components/OptimizationForm\";\nimport { ProgressDisplay } from \"../components/ProgressDisplay\";\nimport { QualityMetrics } from \"../components/QualityMetrics\";\nimport { ErrorHandling } from \"../components/ErrorHandling\";\nimport DemoPage from \"./demo-page\";\n\n// Check if Convex is available\nconst convexUrl = process.env.NEXT_PUBLIC_CONVEX_URL;\nconst isConvexAvailable = convexUrl && convexUrl.trim() !== \"\";\n\ninterface OptimizationResultsProps {\n  isVisible: boolean;\n  onClose: () => void;\n}\n\n// Optimization Results Modal Component\nfunction OptimizationResults({ isVisible, onClose }: OptimizationResultsProps) {\n  const { results, currentSession, qualityMetrics } = useOptimization();\n  const [showFeedback, setShowFeedback] = useState(false);\n  \n  if (!isVisible || !results) return null;\n\n  return (\n    <>\n      <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n        <div className=\"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\n          <div className=\"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center\">\n            <h2 className=\"text-xl font-semibold\">Optimization Results</h2>\n            <button\n              onClick={onClose}\n              className=\"text-gray-500 hover:text-gray-700 text-2xl font-bold\"\n            >\n              ×\n            </button>\n          </div>\n          \n          <div className=\"p-6 space-y-6\">\n          {/* Results Summary */}\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div className=\"bg-blue-50 rounded-lg p-4 text-center\">\n              <div className=\"text-2xl font-bold text-blue-600\">\n                {results.qualityMetrics.overall?.toFixed(1) || \"N/A\"}\n              </div>\n              <div className=\"text-sm text-gray-600\">Quality Score</div>\n            </div>\n            <div className=\"bg-green-50 rounded-lg p-4 text-center\">\n              <div className=\"text-2xl font-bold text-green-600\">\n                {currentSession?.iterationsCompleted || 1}\n              </div>\n              <div className=\"text-sm text-gray-600\">Iterations</div>\n            </div>\n            <div className=\"bg-purple-50 rounded-lg p-4 text-center\">\n              <div className=\"text-2xl font-bold text-purple-600\">\n                {Math.round((currentSession?.processingTimeMs || 0) / 1000)}s\n              </div>\n              <div className=\"text-sm text-gray-600\">Processing Time</div>\n            </div>\n          </div>\n\n          {/* Final Optimized Prompt */}\n          {results.bestPrompt && (\n            <div className=\"bg-gray-50 rounded-lg p-4\">\n              <h3 className=\"font-semibold mb-2\">Optimized Prompt:</h3>\n              <div className=\"bg-white rounded border p-3 text-sm\">\n                {results.bestPrompt}\n              </div>\n            </div>\n          )}\n\n          {/* Improvements List */}\n          {results.improvements && results.improvements.length > 0 && (\n            <div className=\"space-y-4\">\n              <h3 className=\"font-semibold\">Key Improvements:</h3>\n              <div className=\"bg-white rounded-lg border p-4\">\n                <div className=\"space-y-2\">\n                  {results.improvements.map((improvement, idx) => (\n                    <div key={idx} className=\"text-sm flex items-start\">\n                      <span className=\"inline-block w-2 h-2 bg-blue-500 rounded-full mt-1.5 mr-2 flex-shrink-0\"></span>\n                      {improvement}\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Expert Insights */}\n          {results.expertInsights && results.expertInsights.length > 0 && (\n            <div className=\"space-y-4\">\n              <h3 className=\"font-semibold\">Expert Insights:</h3>\n              <div className=\"bg-indigo-50 rounded-lg p-4\">\n                <div className=\"space-y-2\">\n                  {results.expertInsights.map((insight, idx) => (\n                    <div key={idx} className=\"text-sm flex items-start\">\n                      <span className=\"inline-block w-2 h-2 bg-indigo-500 rounded-full mt-1.5 mr-2 flex-shrink-0\"></span>\n                      {insight}\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          )}\n\n            {/* Feedback Button */}\n            <div className=\"mt-6 pt-6 border-t\">\n              <button\n                onClick={() => setShowFeedback(true)}\n                className=\"w-full px-4 py-3 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors font-medium\"\n              >\n                💬 Share Feedback on This Optimization\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Feedback Modal - Component not implemented */}\n      {showFeedback && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4\">\n            <h3 className=\"text-lg font-semibold mb-4\">Feedback Not Available</h3>\n            <p className=\"text-gray-600 mb-4\">Feedback component is not yet implemented in this development demo.</p>\n            <button\n              onClick={() => setShowFeedback(false)}\n              className=\"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n            >\n              Close\n            </button>\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n\nexport default function Home() {\n  // If no Convex, show demo page\n  if (!isConvexAvailable) {\n    return <DemoPage />;\n  }\n\n  const [showResults, setShowResults] = useState(false);\n  const [useAdvancedMode, setUseAdvancedMode] = useState(false);\n\n  // Use our custom optimization hook\n  const {\n    isOptimizing,\n    currentStep,\n    totalSteps,\n    progressMessage,\n    currentIteration,\n    results,\n    qualityMetrics,\n    error,\n    startOptimization,\n    resetOptimization,\n    checkOllamaHealth,\n  } = useOptimization();\n\n  // Use history hook\n  const { sessions: recentSessions, isLoading: historyLoading } = useOptimizationHistory(5);\n\n  const handleOptimize = async (prompt: string, contextDomain: string, useAdvancedMode: boolean, iterations: number) => {\n    if (!prompt.trim()) return;\n    \n    try {\n      await startOptimization(prompt, contextDomain, useAdvancedMode, iterations);\n      setShowResults(true);\n    } catch (error) {\n      console.error(\"Failed to start optimization:\", error);\n    }\n  };\n\n  const checkHealth = async () => {\n    try {\n      const health = await checkOllamaHealth();\n      alert(JSON.stringify(health, null, 2));\n    } catch (error) {\n      alert(\"Health check failed: \" + error);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Optimization Progress Modal */}\n      <ProgressDisplay \n        isOptimizing={isOptimizing}\n        currentStep={currentStep}\n        totalSteps={totalSteps}\n        message={progressMessage}\n      />\n      \n      {/* Results Modal */}\n      <OptimizationResults \n        isVisible={showResults}\n        onClose={() => setShowResults(false)}\n      />\n\n      {/* Error Alert */}\n      <ErrorHandling \n        error={error}\n        onDismiss={resetOptimization}\n      />\n\n      {/* Desktop App Layout */}\n      <div className=\"desktop-app-layout flex\">\n        {/* Left Sidebar - Navigation & Tools */}\n        <div className=\"desktop-sidebar w-80 border-r border-gray-200 flex flex-col\">\n          {/* Sidebar Header */}\n          <div className=\"p-6 border-b border-gray-200\">\n            <div className=\"flex items-center space-x-3\">\n              <div className=\"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg flex items-center justify-center shadow-lg\">\n                <svg className=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n                </svg>\n              </div>\n              <div>\n                <h1 className=\"text-xl font-bold text-gray-900\">PromptEvolver</h1>\n                <p className=\"text-sm text-gray-500\">AI Prompt Optimization</p>\n              </div>\n            </div>\n          </div>\n\n          {/* Navigation Menu */}\n          <div className=\"flex-1 p-6\">\n            <nav className=\"space-y-2\">\n              <div className=\"nav-item active bg-blue-50 border border-blue-200 rounded-lg p-3\">\n                <div className=\"flex items-center space-x-3\">\n                  <div className=\"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center\">\n                    <svg className=\"w-5 h-5 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 011-1h1a2 2 0 100-4H7a1 1 0 01-1-1V7a1 1 0 011-1h3a1 1 0 001-1V4z\" />\n                    </svg>\n                  </div>\n                  <div>\n                    <h3 className=\"font-medium text-blue-900\">Optimize</h3>\n                    <p className=\"text-sm text-blue-700\">Main workspace</p>\n                  </div>\n                </div>\n              </div>\n              \n              <button className=\"nav-item w-full text-left p-3 rounded-lg\">\n                <div className=\"flex items-center space-x-3\">\n                  <div className=\"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center\">\n                    <svg className=\"w-5 h-5 text-gray-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                    </svg>\n                  </div>\n                  <div>\n                    <h3 className=\"font-medium text-gray-900\">History</h3>\n                    <p className=\"text-sm text-gray-500\">Past optimizations</p>\n                  </div>\n                </div>\n              </button>\n\n              <button className=\"nav-item w-full text-left p-3 rounded-lg\">\n                <div className=\"flex items-center space-x-3\">\n                  <div className=\"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center\">\n                    <svg className=\"w-5 h-5 text-gray-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n                    </svg>\n                  </div>\n                  <div>\n                    <h3 className=\"font-medium text-gray-900\">Analytics</h3>\n                    <p className=\"text-sm text-gray-500\">Performance metrics</p>\n                  </div>\n                </div>\n              </button>\n\n              <button className=\"nav-item w-full text-left p-3 rounded-lg\">\n                <div className=\"flex items-center space-x-3\">\n                  <div className=\"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center\">\n                    <svg className=\"w-5 h-5 text-gray-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\" />\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n                    </svg>\n                  </div>\n                  <div>\n                    <h3 className=\"font-medium text-gray-900\">Settings</h3>\n                    <p className=\"text-sm text-gray-500\">Configuration</p>\n                  </div>\n                </div>\n              </button>\n            </nav>\n          </div>\n\n          {/* Sidebar Footer */}\n          <div className=\"p-6 border-t border-gray-200\">\n            <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4\">\n              <div className=\"flex items-start space-x-3\">\n                <svg className=\"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\" />\n                </svg>\n                <div>\n                  <p className=\"text-sm font-medium text-yellow-800\">Development Demo</p>\n                  <p className=\"text-xs text-yellow-700 mt-1\">\n                    Local Ollama required • Processing 60-120s • System prompts only\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            <button\n              onClick={checkHealth}\n              className=\"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors\"\n            >\n              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n              </svg>\n              <span className=\"text-sm font-medium\">System Health</span>\n            </button>\n          </div>\n        </div>\n\n        {/* Main Content Area */}\n        <div className=\"desktop-main-content flex overflow-hidden\">\n          {/* Central Workspace */}\n          <div className=\"flex-1 p-8 overflow-y-auto custom-scrollbar\">\n            <div className=\"max-w-4xl mx-auto space-y-8\">\n              {/* Workspace Header */}\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <h2 className=\"text-2xl font-bold text-gray-900\">Prompt Optimization Workspace</h2>\n                  <p className=\"text-gray-600 mt-1\">Create and refine AI prompts using advanced optimization techniques</p>\n                </div>\n                <div className=\"flex items-center space-x-2 text-sm text-gray-500\">\n                  <div className=\"status-dot w-2 h-2 bg-green-500 rounded-full\"></div>\n                  <span>Ollama Connected</span>\n                </div>\n              </div>\n\n              {/* Optimization Form - Redesigned for desktop */}\n              <div className=\"desktop-card bg-white rounded-xl shadow-sm\">\n                <div className=\"p-6 border-b border-gray-200\">\n                  <div className=\"flex items-center justify-between\">\n                    <h3 className=\"text-lg font-semibold text-gray-900\">New Optimization</h3>\n                    <div className=\"flex bg-gray-100 rounded-lg p-1\">\n                      <button\n                        onClick={() => setUseAdvancedMode(false)}\n                        className={`px-3 py-1.5 text-sm font-medium rounded-md transition-all desktop-focus ${\n                          !useAdvancedMode\n                            ? \"bg-blue-600 text-white shadow-sm\"\n                            : \"text-gray-600 hover:text-gray-900\"\n                        }`}\n                      >\n                        Quick\n                      </button>\n                      <button\n                        onClick={() => setUseAdvancedMode(true)}\n                        className={`px-3 py-1.5 text-sm font-medium rounded-md transition-all desktop-focus ${\n                          useAdvancedMode\n                            ? \"bg-purple-600 text-white shadow-sm\"\n                            : \"text-gray-600 hover:text-gray-900\"\n                        }`}\n                      >\n                        Advanced\n                      </button>\n                    </div>\n                  </div>\n                </div>\n\n                <OptimizationForm \n                  onOptimize={handleOptimize}\n                  isOptimizing={isOptimizing}\n                  useAdvancedMode={useAdvancedMode}\n                  setUseAdvancedMode={setUseAdvancedMode}\n                />\n              </div>\n\n              {/* Quality Metrics - Only show when available */}\n              {qualityMetrics && (\n                <div className=\"desktop-card bg-white rounded-xl shadow-sm\">\n                  <QualityMetrics \n                    metrics={qualityMetrics} \n                    overallScore={results?.qualityMetrics.overall}\n                  />\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Right Sidebar - Status & History */}\n          <div className=\"w-96 bg-white border-l border-gray-200 p-6 overflow-y-auto custom-scrollbar\">\n            {/* Status Panel */}\n            <div className=\"mb-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">System Status</h3>\n              <div className=\"space-y-3\">\n                <div className=\"desktop-card flex items-center justify-between p-3 bg-green-50 rounded-lg border border-green-200\">\n                  <div className=\"flex items-center space-x-3\">\n                    <div className=\"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center\">\n                      <svg className=\"w-4 h-4 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                      </svg>\n                    </div>\n                    <div>\n                      <p className=\"font-medium text-green-900\">Ollama</p>\n                      <p className=\"text-sm text-green-700\">Connected</p>\n                    </div>\n                  </div>\n                  <div className=\"status-dot w-2 h-2 bg-green-500 rounded-full\"></div>\n                </div>\n\n                <div className=\"desktop-card flex items-center justify-between p-3 bg-blue-50 rounded-lg border border-blue-200\">\n                  <div className=\"flex items-center space-x-3\">\n                    <div className=\"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\">\n                      <svg className=\"w-4 h-4 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z\" />\n                      </svg>\n                    </div>\n                    <div>\n                      <p className=\"font-medium text-blue-900\">Qwen3:4b</p>\n                      <p className=\"text-sm text-blue-700\">Ready</p>\n                    </div>\n                  </div>\n                  <div className=\"status-dot w-2 h-2 bg-blue-500 rounded-full\"></div>\n                </div>\n              </div>\n            </div>\n\n            {/* Quick Stats */}\n            <div className=\"mb-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Session Overview</h3>\n              <div className=\"grid grid-cols-2 gap-3\">\n                <div className=\"desktop-card text-center p-4 bg-blue-50 rounded-lg\">\n                  <div className=\"text-2xl font-bold text-blue-600\">\n                    {recentSessions?.length || 0}\n                  </div>\n                  <div className=\"text-sm text-gray-600\">Total</div>\n                </div>\n                <div className=\"desktop-card text-center p-4 bg-green-50 rounded-lg\">\n                  <div className=\"text-2xl font-bold text-green-600\">\n                    {recentSessions?.filter(s => s.status === \"completed\").length || 0}\n                  </div>\n                  <div className=\"text-sm text-gray-600\">Completed</div>\n                </div>\n              </div>\n            </div>\n\n            {/* Recent Sessions */}\n            <div>\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"text-lg font-semibold text-gray-900\">Recent Activity</h3>\n                <button className=\"text-blue-600 hover:text-blue-800 text-sm font-medium desktop-focus\">\n                  View All\n                </button>\n              </div>\n              \n              {historyLoading ? (\n                <div className=\"text-center py-8\">\n                  <div className=\"loading-pulse animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto\"></div>\n                  <p className=\"mt-2 text-sm text-gray-600\">Loading...</p>\n                </div>\n              ) : recentSessions.length === 0 ? (\n                <div className=\"text-center py-8\">\n                  <div className=\"w-12 h-12 mx-auto mb-3 bg-gray-100 rounded-full flex items-center justify-center\">\n                    <svg className=\"w-6 h-6 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                    </svg>\n                  </div>\n                  <p className=\"text-gray-500 font-medium text-sm\">No sessions yet</p>\n                  <p className=\"text-xs text-gray-400 mt-1\">Start optimizing to see history</p>\n                </div>\n              ) : (\n                <div className=\"space-y-3\">\n                  {recentSessions.slice(0, 4).map((session) => (\n                    <div key={session._id} className=\"desktop-card p-3 border border-gray-200 rounded-lg cursor-pointer\">\n                      <div className=\"flex justify-between items-start mb-2\">\n                        <span className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${\n                          session.status === \"completed\"\n                            ? \"bg-green-100 text-green-800\"\n                            : session.status === \"processing\"\n                            ? \"bg-yellow-100 text-yellow-800\"\n                            : session.status === \"failed\"\n                            ? \"bg-red-100 text-red-800\"\n                            : \"bg-gray-100 text-gray-800\"\n                        }`}>\n                          {session.status === \"completed\" && \"✓ \"}\n                          {session.status || \"pending\"}\n                        </span>\n                        {session.qualityScore && (\n                          <div className=\"flex items-center text-xs\">\n                            <svg className=\"w-3 h-3 text-yellow-400 mr-1\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                              <path d=\"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z\" />\n                            </svg>\n                            <span className=\"text-gray-700\">{session.qualityScore.toFixed(1)}</span>\n                          </div>\n                        )}\n                      </div>\n                      \n                      <p className=\"text-sm text-gray-700 line-clamp-2 mb-2\">\n                        {session.prompt?.originalPrompt.substring(0, 60)}\n                        {(session.prompt?.originalPrompt.length || 0) > 60 && \"...\"}\n                      </p>\n                      \n                      <div className=\"flex items-center justify-between text-xs text-gray-500\">\n                        <span>{new Date(session.createdAt).toLocaleDateString()}</span>\n                        <svg className=\"w-4 h-4 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n                        </svg>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}