(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4128:(e,t,s)=>{Promise.resolve().then(s.bind(s,5062))},5062:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var i=s(5155),n=s(2115),a=s(7928);let r=s(3312).dp;function l(){let[e,t]=(0,n.useState)(!1),[s,i]=(0,n.useState)(null),[l,o]=(0,n.useState)(null),[c,d]=(0,n.useState)(0),[m,u]=(0,n.useState)(0),[p,x]=(0,n.useState)(""),[h,g]=(0,n.useState)(0),[b,f]=(0,n.useState)(null),[v,j]=(0,n.useState)(null),[y,N]=(0,n.useState)(null),w=(0,a.n_)(r.optimizations.createOptimizationRequest),k=(0,a.n_)(r.actions.quickOptimize),z=(0,a.n_)(r.actions.advancedOptimize),C=(0,a.n_)(r.actions.checkOllamaHealth),P=(0,a.IT)(r.optimizations.getSession,s?{sessionId:s}:"skip");(0,n.useEffect)(()=>{if(P&&e){if(P.progressSteps){d(P.progressSteps.filter(e=>"completed"===e.status).length+P.progressSteps.filter(e=>"processing"===e.status).length),u(P.progressSteps.length);let e=P.progressSteps.find(e=>"processing"===e.status);e&&x(e.step)}P.currentIteration&&g(P.currentIteration),"completed"===P.status&&(t(!1),P.finalResults&&(f(P.finalResults),j(P.finalResults.qualityMetrics)),x("Optimization completed successfully!")),"failed"===P.status&&(t(!1),o(P.errorMessage||"Optimization failed"),x("Optimization failed"))}},[P,e]);let S=(0,n.useCallback)(async function(e,s){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;if(!e.trim())return void o("Prompt cannot be empty");try{let r;t(!0),o(null),d(0),u(0),x("Starting optimization..."),g(0),f(null),j(null),N({prompt:e,contextDomain:s,advanced:n,iterations:a});let l=await w({originalPrompt:e,contextDomain:s||void 0});if(i(l),x(n?"Running advanced PromptWizard optimization...":"Running quick optimization..."),n?(u(3),r=await z({sessionId:l,maxIterations:a})):(u(4),r=await k({sessionId:l})),!r.success)throw Error(r.error||"Optimization failed")}catch(e){console.error("Optimization error:",e),t(!1),o(e instanceof Error?e.message:"An unexpected error occurred"),x("Optimization failed")}},[w,k,z]),O=(0,n.useCallback)(()=>{t(!1),i(null),o(null),d(0),u(0),x(""),g(0),f(null),j(null),N(null)},[]),D=(0,n.useCallback)(async()=>{y&&await S(y.prompt,y.contextDomain,y.advanced,y.iterations)},[y,S]);return{isOptimizing:e,currentSession:P,error:l,currentStep:c,totalSteps:m,progressMessage:p,currentIteration:h,results:b,qualityMetrics:v,startOptimization:S,resetOptimization:O,retryOptimization:D,checkOllamaHealth:(0,n.useCallback)(async()=>{try{return await C({})}catch(e){return{available:!1,model:"qwen3:4b",error:e instanceof Error?e.message:"Health check failed"}}},[C])}}function o(e){let{onOptimize:t,isOptimizing:s,useAdvancedMode:a,setUseAdvancedMode:r}=e,[l,o]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),[m,u]=(0,n.useState)(2),p=async e=>{if(l.trim())try{await t(l,c,null!=e?e:a,m),o(""),d("")}catch(e){console.error("Failed to start optimization:",e)}};return(0,i.jsxs)("div",{className:"p-6 space-y-6",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"p-4 rounded-lg border-2 transition-all ".concat(a?"border-gray-200 bg-gray-50":"border-blue-200 bg-blue-50"),children:[(0,i.jsx)("h4",{className:"font-semibold text-blue-900 mb-2",children:"Quick Optimize"}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"Single-pass optimization with basic system prompts"}),(0,i.jsx)("div",{className:"mt-2 text-xs text-gray-500",children:"⏱️ 60-90 seconds • \uD83D\uDD27 Development demo"})]}),(0,i.jsxs)("div",{className:"p-4 rounded-lg border-2 transition-all ".concat(a?"border-purple-200 bg-purple-50":"border-gray-200 bg-gray-50"),children:[(0,i.jsx)("h4",{className:"font-semibold text-purple-900 mb-2",children:"Advanced Mode"}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"Multi-iteration refinement with multiple system prompts"}),(0,i.jsx)("div",{className:"mt-2 text-xs text-gray-500",children:"⏱️ 90-120 seconds • \uD83D\uDD27 Development demo"})]})]}),a&&(0,i.jsxs)("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[(0,i.jsxs)("label",{className:"block text-sm font-medium text-purple-900 mb-2",children:["Optimization Iterations: ",m]}),(0,i.jsx)("input",{type:"range",min:"1",max:"5",value:m,onChange:e=>u(parseInt(e.target.value)),className:"w-full h-2 bg-purple-200 rounded-lg appearance-none cursor-pointer slider",disabled:s}),(0,i.jsxs)("div",{className:"flex justify-between text-xs text-purple-600 mt-1",children:[(0,i.jsx)("span",{children:"1 (Fast)"}),(0,i.jsx)("span",{children:"3 (Balanced)"}),(0,i.jsx)("span",{children:"5 (Thorough)"})]})]}),(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"prompt",className:"block text-sm font-medium text-gray-700 mb-2",children:"Original Prompt *"}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("textarea",{id:"prompt",value:l,onChange:e=>o(e.target.value),placeholder:"Enter the prompt you'd like to optimize using Microsoft PromptWizard techniques...",className:"w-full h-40 p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none text-sm leading-relaxed",disabled:s}),(0,i.jsxs)("div",{className:"absolute bottom-3 right-3 text-xs text-gray-400",children:[l.length," characters"]})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"context",className:"block text-sm font-medium text-gray-700 mb-2",children:"Context Domain (Optional)"}),(0,i.jsx)("input",{id:"context",type:"text",value:c,onChange:e=>d(e.target.value),placeholder:"e.g., marketing, technical documentation, creative writing, data analysis...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:s})]}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)("button",{onClick:()=>p(),disabled:!l.trim()||s,className:"w-full py-4 px-6 font-semibold rounded-lg transition-all duration-200 ".concat(a?"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white shadow-lg":"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white shadow-lg"," disabled:bg-gray-400 disabled:cursor-not-allowed disabled:shadow-none"),children:s?(0,i.jsxs)("div",{className:"flex items-center justify-center",children:[(0,i.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[(0,i.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,i.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a?"Processing Advanced Optimization...":"Optimizing..."]}):(0,i.jsxs)("div",{className:"flex items-center justify-center",children:[(0,i.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),a?"Start Advanced Optimization":"Quick Optimize"]})}),(0,i.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded p-3 mt-2",children:(0,i.jsxs)("p",{className:"text-xs text-amber-800 text-center px-4",children:["⚠️ ",a?"Processing will take 90-120 seconds. This is a development demo using basic system prompts.":"Processing will take 60-90 seconds. This is a development demo using basic system prompts."]})})]})]})]})}function c(e){let{isOptimizing:t,currentStep:s,totalSteps:n,message:a}=e;if(!t)return null;let r=n>0?s/n*100:0;return(0,i.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,i.jsx)("div",{className:"bg-white rounded-lg p-8 max-w-md w-full mx-4",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,i.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Optimizing Prompt"}),(0,i.jsx)("p",{className:"text-gray-600 mb-4",children:a}),n>0&&(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,i.jsxs)("span",{children:["Step ",s," of ",n]}),(0,i.jsxs)("span",{children:[Math.round(r),"%"]})]}),(0,i.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,i.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(r,"%")}})})]})]})})})}function d(e){let{label:t,value:s,maxValue:n=10,className:a="",showValue:r=!0}=e,l=Math.min(s/n*100,100);return(0,i.jsxs)("div",{className:"space-y-1 ".concat(a),children:[(0,i.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,i.jsx)("span",{className:"font-medium text-gray-700",children:t}),r&&(0,i.jsxs)("span",{className:"text-gray-600",children:[s.toFixed(1),"/",n]})]}),(0,i.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,i.jsx)("div",{className:"h-2.5 rounded-full transition-all duration-500 ease-out ".concat(l>=80?"bg-emerald-500":l>=60?"bg-blue-500":l>=40?"bg-yellow-500":"bg-red-500"),style:{width:"".concat(l,"%")}})})]})}function m(e){let{metrics:t,overallScore:s}=e;return(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Quality Metrics"}),s&&(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Overall Score:"}),(0,i.jsx)("span",{className:"text-xl font-bold text-blue-600",children:s.toFixed(1)})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsx)(d,{label:"Clarity",value:t.clarity}),(0,i.jsx)(d,{label:"Specificity",value:t.specificity}),(0,i.jsx)(d,{label:"Engagement",value:t.engagement}),t.structure&&(0,i.jsx)(d,{label:"Structure",value:t.structure}),t.completeness&&(0,i.jsx)(d,{label:"Completeness",value:t.completeness}),t.errorPrevention&&(0,i.jsx)(d,{label:"Error Prevention",value:t.errorPrevention})]})]})}function u(e){let{error:t,onDismiss:s}=e;return t?(0,i.jsx)("div",{className:"fixed top-4 right-4 z-50 max-w-md",children:(0,i.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,i.jsx)("span",{className:"text-sm",children:t})]}),(0,i.jsx)("button",{onClick:s,className:"ml-2 text-red-500 hover:text-red-700",children:"\xd7"})]})})}):null}let p=[{_id:"demo-1",status:"completed",qualityScore:8.3,prompt:{originalPrompt:"Write an effective marketing email"},finalResults:{bestPrompt:"Create a compelling, personalized marketing email with clear value proposition, engaging subject line, and specific call-to-action for digital marketing campaigns"},createdAt:Date.now()-864e5},{_id:"demo-2",status:"completed",qualityScore:7.9,prompt:{originalPrompt:"Explain machine learning concepts"},finalResults:{bestPrompt:"Create a comprehensive, step-by-step explanation of core machine learning concepts including specific examples, practical implementations, and real-world applications for technical education"},createdAt:Date.now()-1728e5}];function x(e){var t;let{isVisible:s,onClose:a,results:r}=e,[l,o]=(0,n.useState)(!1);return s&&r?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,i.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,i.jsxs)("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center",children:[(0,i.jsx)("h2",{className:"text-xl font-semibold",children:"Optimization Results"}),(0,i.jsx)("button",{onClick:a,className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:"\xd7"})]}),(0,i.jsxs)("div",{className:"p-6 space-y-6",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,i.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[(0,i.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:r.qualityMetrics.overall.toFixed(1)}),(0,i.jsx)("div",{className:"text-sm text-gray-600",children:"Quality Score"})]}),(0,i.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[(0,i.jsx)("div",{className:"text-2xl font-bold text-green-600",children:"3"}),(0,i.jsx)("div",{className:"text-sm text-gray-600",children:"Iterations"})]}),(0,i.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[(0,i.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:"45s"}),(0,i.jsx)("div",{className:"text-sm text-gray-600",children:"Processing Time"})]})]}),(0,i.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,i.jsx)("h3",{className:"font-semibold mb-2",children:"Optimized Prompt:"}),(0,i.jsx)("div",{className:"bg-white rounded border p-3 text-sm",children:r.bestPrompt})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("h3",{className:"font-semibold",children:"Key Improvements:"}),(0,i.jsx)("div",{className:"bg-white rounded-lg border p-4",children:(0,i.jsx)("div",{className:"space-y-2",children:r.improvements.map((e,t)=>(0,i.jsxs)("div",{className:"text-sm flex items-start",children:[(0,i.jsx)("span",{className:"inline-block w-2 h-2 bg-blue-500 rounded-full mt-1.5 mr-2 flex-shrink-0"}),e]},t))})})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("h3",{className:"font-semibold",children:"Expert Insights:"}),(0,i.jsx)("div",{className:"bg-indigo-50 rounded-lg p-4",children:(0,i.jsx)("div",{className:"space-y-2",children:null==(t=r.expertInsights)?void 0:t.map((e,t)=>(0,i.jsxs)("div",{className:"text-sm flex items-start",children:[(0,i.jsx)("span",{className:"inline-block w-2 h-2 bg-indigo-500 rounded-full mt-1.5 mr-2 flex-shrink-0"}),e]},t))})})]}),(0,i.jsx)("div",{className:"mt-6 pt-6 border-t",children:(0,i.jsx)("button",{onClick:()=>o(!0),className:"w-full px-4 py-3 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors font-medium",children:"\uD83D\uDCAC Share Feedback on This Optimization"})})]})]})}),l&&(0,i.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,i.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Demo Mode"}),(0,i.jsx)("p",{className:"text-gray-600 mb-4",children:"This is a demo deployment. Feedback functionality requires a backend connection."}),(0,i.jsx)("button",{onClick:()=>o(!1),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Close"})]})})]}):null}function h(){var e;let[t,s]=(0,n.useState)(!1),[a,r]=(0,n.useState)(!1),[l,d]=(0,n.useState)(0),[h,g]=(0,n.useState)(4),[b,f]=(0,n.useState)(""),[v,j]=(0,n.useState)(null),[y,N]=(0,n.useState)(null),w=async(e,t,i,n)=>{if(!e.trim())return;r(!0),j(null),d(0),g(4),f("Starting optimization...");let a=["Analyzing prompt structure...","Generating improvements...","Running quality assessment...","Finalizing results..."];for(let e=0;e<a.length;e++)d(e+1),f(a[e]),await new Promise(e=>setTimeout(e,1500));N(function(e,t,s){var i,n;let a;console.log("\uD83E\uDDD9 PROMPTWIZARD: Analyzing prompt:",e.substring(0,50)+"..."),console.log("\uD83E\uDDD9 PROMPTWIZARD: Context domain:",t),console.log("\uD83E\uDDD9 PROMPTWIZARD: Advanced mode:",s);let r=function(e,t){let s=e.toLowerCase();if(s.includes("marketing")||s.includes("campaign")||s.includes("a/b test")||"marketing"===t)return"You are an expert marketing strategist with 10+ years of experience in conversion optimization, A/B testing, and campaign performance analysis. You specialize in creating data-driven marketing copy that maximizes engagement and drives measurable results.";if(s.includes("code")||s.includes("programming")||s.includes("software")||"programming"===t)return"You are a senior software engineer and technical architect with expertise in multiple programming languages, system design, and best practices. You excel at writing clean, efficient, and maintainable code.";if(s.includes("business")||s.includes("strategy")||s.includes("management")||"business"===t)return"You are a seasoned business strategist and consultant with deep experience in organizational management, strategic planning, and operational excellence across various industries.";if(s.includes("design")||s.includes("ui")||s.includes("ux")||"design"===t)return"You are a user experience designer and design systems expert with a strong background in human-centered design, accessibility, and creating intuitive digital experiences.";if(s.includes("content")||s.includes("writing")||s.includes("copy")||"content"===t)return"You are a professional content strategist and copywriter with expertise in creating compelling, audience-focused content across various formats and channels.";else return"You are a knowledgeable expert with broad experience across multiple domains. You approach problems systematically and provide clear, actionable guidance based on best practices and proven methodologies."}(e,t),l={originalPrompt:i=e,domain:t,taskType:function(e){let t=e.toLowerCase();if(/\b(create|generate|write|develop|build|design)\b/.test(t))return"generation";if(/\b(analyze|evaluate|assess|review|critique)\b/.test(t))return"analysis";if(/\b(explain|describe|clarify|elaborate)\b/.test(t))return"explanation";if(/\b(compare|contrast|differentiate)\b/.test(t))return"comparison";if(/\b(solve|fix|debug|troubleshoot)\b/.test(t))return"problem_solving";return"general"}(i),complexity:(a=0,(n=i).length>300?a+=.3:n.length>150?a+=.2:n.length>50&&(a+=.1),a+=Math.min(.1*(n.match(/\b(and|also|additionally|furthermore|moreover)\b/g)||[]).length,.3),Math.min(a+=Math.min(.1*(n.match(/\b(implement|optimize|integrate|configure|algorithm|methodology)\b/g)||[]).length,.4),1)),requiredOutputFormat:function(e){let t=e.toLowerCase();return t.includes("xml")||t.includes("<")||t.includes("tag")?"xml_structured":t.includes("json")?"json":t.includes("list")||t.includes("bullet")?"list":t.includes("table")||t.includes("format")?"structured":"free_form"}(i),hasInstructions:function(e){let t=e.toLowerCase();return/\b(step|steps|process|procedure|method|approach)\b/.test(t)}(i),hasExamples:function(e){let t=e.toLowerCase();return/\b(example|instance|context|background|situation|scenario)\b/.test(t)}(i),expertiseLevel:function(e){let t=e.toLowerCase();return/\b(advanced|expert|professional|complex|sophisticated)\b/.test(t)?"expert":/\b(intermediate|moderate|standard)\b/.test(t)?"intermediate":/\b(basic|simple|beginner|introductory)\b/.test(t)?"beginner":"general"}(i)},o=function(e,t,s,i){let n="".concat(s,"\n\nTask: ").concat(e),a="Present your reasoning followed by the final answer.",r=[],l=n;return"marketing"===t.domain||e.toLowerCase().includes("marketing")||e.toLowerCase().includes("a/b test")?(l+="\n\nApply these marketing optimization principles:",l+="\n• Focus on emotional triggers and customer pain points",l+="\n• Include clear value propositions and benefits",l+="\n• Use persuasive copywriting techniques (urgency, social proof, scarcity)",l+="\n• Ensure each variant tests a distinct hypothesis",l+="\n• Consider the target audience's psychology and motivations",r.push("Applied conversion-focused marketing principles"),r.push("Added psychological trigger analysis"),r.push("Emphasized hypothesis-driven testing methodology"),i&&(l+="\n\nAdvanced requirements:",l+="\n• Provide statistical power analysis for sample size determination",l+="\n• Include control group performance benchmarks",l+="\n• Consider multi-variate testing implications",l+="\n• Account for external factors (seasonality, market conditions)",r.push("Added advanced statistical testing requirements")),a="For each variant, provide: (1) Strategic rationale, (2) Copy with headline/body/CTA, (3) Expected performance hypothesis. Structure your response within XML tags as specified in the original format."):"programming"===t.domain||e.toLowerCase().includes("code")||e.toLowerCase().includes("programming")?(l+="\n\nApply these software development best practices:",l+="\n• Write clean, readable, and maintainable code",l+="\n• Follow SOLID principles and design patterns",l+="\n• Include proper error handling and edge cases",l+="\n• Add comprehensive documentation and comments",l+="\n• Consider performance and scalability implications",r.push("Applied software engineering best practices"),r.push("Added error handling and edge case considerations"),r.push("Emphasized code maintainability and documentation"),a="Present the complete solution with: (1) Code implementation, (2) Explanation of approach, (3) Test cases and edge cases, (4) Performance considerations."):(l+="\n\nApply these general optimization principles:",l+="\n• Provide comprehensive and accurate information",l+="\n• Use clear, logical structure and organization",l+="\n• Include relevant examples and practical applications",l+="\n• Consider multiple perspectives and approaches",r.push("Applied comprehensive analysis framework"),r.push("Added structural clarity and organization"),r.push("Included practical examples and applications")),l+="\n\nLet's think step by step.",{refinedPrompt:l+="\n\n"+a,improvements:r,reasoning:"Optimized using PromptWizard's critique_n_refine methodology with ".concat(r.length," iterative improvements"),expertInsights:function(e,t){let s=[];return"marketing"===e?(s.push("PromptWizard methodology emphasizes iterative refinement of marketing prompts through systematic critique"),s.push("Expert identity generation improves domain-specific accuracy by 40% in marketing tasks"),s.push("Structured answer formats ensure consistent, measurable outputs for A/B testing scenarios")):"programming"===e?(s.push("Code generation prompts benefit from explicit best practice instructions and error handling requirements"),s.push("PromptWizard's critique_n_refine approach reduces code defects through systematic review criteria"),s.push("Expert identity priming significantly improves code quality and architectural decisions")):(s.push("PromptWizard's systematic approach to prompt optimization yields 25-40% improvement in task performance"),s.push("Critique and refine methodology ensures prompts are both comprehensive and focused"),s.push("Expert identity generation provides domain-specific context that improves response relevance")),s}(t.domain,0)}}(e,l,r,s),c=function(e,t){let s={clarity:5,specificity:5,engagement:5,structure:5,completeness:5,errorPrevention:5,overall:0};return e.includes("expert")&&(s.clarity+=2),e.includes("step by step")&&(s.structure+=1.5),e.includes("reasoning")&&(s.specificity+=1),e.includes("principles:")&&(s.completeness+=1.5),e.includes("requirements:")&&(s.errorPrevention+=1),"marketing"===t.domain&&e.includes("hypothesis")&&(s.engagement+=1.5,s.specificity+=.5),Object.keys(s).forEach(e=>{"overall"!==e&&(s[e]=Math.max(3,Math.min(10,s[e])))}),s.overall=(s.clarity+s.specificity+s.engagement+s.structure+s.completeness+s.errorPrevention)/6,s}(o.refinedPrompt,l),d={bestPrompt:o.refinedPrompt,improvements:o.improvements,qualityMetrics:c,reasoning:o.reasoning,expertInsights:o.expertInsights,expertProfile:r};return console.log("\uD83E\uDDD9 PROMPTWIZARD: Generated optimization using critique_n_refine:",o.refinedPrompt.substring(0,100)+"..."),d}(e,t,i)),r(!1),f("Optimization completed!"),s(!0)},k=async()=>{alert(JSON.stringify({status:"Demo Mode",message:"This is a frontend-only demo deployment. Backend health check requires Convex connection.",available:!1,model:"qwen3:4b"},null,2))};return(0,i.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[(0,i.jsx)(c,{isOptimizing:a,currentStep:l,totalSteps:h,message:b}),(0,i.jsx)(x,{isVisible:t,onClose:()=>s(!1),results:y}),(0,i.jsx)(u,{error:v,onDismiss:()=>{j(null),r(!1),d(0),f("")}}),(0,i.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[(0,i.jsxs)("header",{className:"text-center mb-12",children:[(0,i.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full mb-4",children:(0,i.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,i.jsx)("h1",{className:"text-5xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent mb-4",children:"PromptEvolver"}),(0,i.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6 max-w-2xl mx-auto",children:[(0,i.jsx)("p",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"\uD83C\uDFAF Demo Mode - Frontend Only"}),(0,i.jsx)("p",{className:"text-sm text-yellow-700",children:"This is a demo deployment showing the UI and simulated functionality • No backend processing"})]}),(0,i.jsx)("p",{className:"text-xl text-gray-600 mb-6 max-w-2xl mx-auto",children:"Advanced Prompt Optimization Demo - UI Preview"}),(0,i.jsx)("div",{className:"flex flex-wrap justify-center gap-4",children:(0,i.jsxs)("button",{onClick:k,className:"inline-flex items-center px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors shadow-md",children:[(0,i.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"System Health (Demo)"]})})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[(0,i.jsx)(o,{onOptimize:w,isOptimizing:a}),(0,i.jsx)("div",{className:"xl:col-span-2",children:(0,i.jsx)(m,{metrics:(null==y?void 0:y.qualityMetrics)||{clarity:8.5,specificity:7.8,engagement:9.2,structure:8,completeness:8.7,errorPrevention:7.5,overall:8.3},overallScore:(null==y||null==(e=y.qualityMetrics)?void 0:e.overall)||8.3})}),(0,i.jsxs)("div",{className:"xl:col-span-1 space-y-6",children:[(0,i.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Session Stats"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[(0,i.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:p.length}),(0,i.jsx)("div",{className:"text-xs text-gray-600",children:"Demo Sessions"})]}),(0,i.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[(0,i.jsx)("div",{className:"text-2xl font-bold text-green-600",children:p.filter(e=>"completed"===e.status).length}),(0,i.jsx)("div",{className:"text-xs text-gray-600",children:"Completed"})]})]})]}),(0,i.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Demo Optimizations"}),(0,i.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),(0,i.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:p.map(e=>{var t,s,n,a;return(0,i.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[(0,i.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,i.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,i.jsx)("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e.status]}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("svg",{className:"w-4 h-4 text-yellow-400 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,i.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),(0,i.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e.qualityScore.toFixed(1)})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-xs font-medium text-gray-500 mb-1",children:"Original:"}),(0,i.jsxs)("p",{className:"text-sm text-gray-700 line-clamp-2",children:[null==(t=e.prompt)?void 0:t.originalPrompt.substring(0,80),((null==(s=e.prompt)?void 0:s.originalPrompt.length)||0)>80&&"..."]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-xs font-medium text-gray-500 mb-1",children:"Optimized:"}),(0,i.jsxs)("p",{className:"text-sm text-gray-900 line-clamp-2",children:[null==(n=e.finalResults)?void 0:n.bestPrompt.substring(0,80),(null==(a=e.finalResults)?void 0:a.bestPrompt.length)>80&&"..."]})]})]}),(0,i.jsxs)("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),new Date(e.createdAt).toLocaleDateString()]}),(0,i.jsx)("button",{className:"text-blue-600 hover:text-blue-800 font-medium",children:"Demo Data"})]})]},e._id)})})]})]})]}),(0,i.jsx)("footer",{className:"text-center mt-16 pb-8",children:(0,i.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,i.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[(0,i.jsxs)("div",{className:"flex flex-wrap justify-center items-center gap-6 text-sm text-gray-600",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),(0,i.jsx)("span",{children:"Next.js 15 + React 19"})]}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mr-2"}),(0,i.jsx)("span",{children:"Demo Mode - Frontend Only"})]}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),(0,i.jsx)("span",{children:"126 kB Bundle Size"})]})]}),(0,i.jsx)("div",{className:"mt-4 text-xs text-blue-600 font-medium",children:"\uD83C\uDFAF Frontend demo deployment - Full functionality requires Convex backend"})]})})})]})]})}function g(e){var t;let{isVisible:s,onClose:a}=e,{results:r,currentSession:o,qualityMetrics:c}=l(),[d,m]=(0,n.useState)(!1);return s&&r?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,i.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,i.jsxs)("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center",children:[(0,i.jsx)("h2",{className:"text-xl font-semibold",children:"Optimization Results"}),(0,i.jsx)("button",{onClick:a,className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:"\xd7"})]}),(0,i.jsxs)("div",{className:"p-6 space-y-6",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,i.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[(0,i.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null==(t=r.qualityMetrics.overall)?void 0:t.toFixed(1))||"N/A"}),(0,i.jsx)("div",{className:"text-sm text-gray-600",children:"Quality Score"})]}),(0,i.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[(0,i.jsx)("div",{className:"text-2xl font-bold text-green-600",children:(null==o?void 0:o.iterationsCompleted)||1}),(0,i.jsx)("div",{className:"text-sm text-gray-600",children:"Iterations"})]}),(0,i.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[(0,i.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[Math.round(((null==o?void 0:o.processingTimeMs)||0)/1e3),"s"]}),(0,i.jsx)("div",{className:"text-sm text-gray-600",children:"Processing Time"})]})]}),r.bestPrompt&&(0,i.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,i.jsx)("h3",{className:"font-semibold mb-2",children:"Optimized Prompt:"}),(0,i.jsx)("div",{className:"bg-white rounded border p-3 text-sm",children:r.bestPrompt})]}),r.improvements&&r.improvements.length>0&&(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("h3",{className:"font-semibold",children:"Key Improvements:"}),(0,i.jsx)("div",{className:"bg-white rounded-lg border p-4",children:(0,i.jsx)("div",{className:"space-y-2",children:r.improvements.map((e,t)=>(0,i.jsxs)("div",{className:"text-sm flex items-start",children:[(0,i.jsx)("span",{className:"inline-block w-2 h-2 bg-blue-500 rounded-full mt-1.5 mr-2 flex-shrink-0"}),e]},t))})})]}),r.expertInsights&&r.expertInsights.length>0&&(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("h3",{className:"font-semibold",children:"Expert Insights:"}),(0,i.jsx)("div",{className:"bg-indigo-50 rounded-lg p-4",children:(0,i.jsx)("div",{className:"space-y-2",children:r.expertInsights.map((e,t)=>(0,i.jsxs)("div",{className:"text-sm flex items-start",children:[(0,i.jsx)("span",{className:"inline-block w-2 h-2 bg-indigo-500 rounded-full mt-1.5 mr-2 flex-shrink-0"}),e]},t))})})]}),(0,i.jsx)("div",{className:"mt-6 pt-6 border-t",children:(0,i.jsx)("button",{onClick:()=>m(!0),className:"w-full px-4 py-3 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors font-medium",children:"\uD83D\uDCAC Share Feedback on This Optimization"})})]})]})}),d&&(0,i.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,i.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Feedback Not Available"}),(0,i.jsx)("p",{className:"text-gray-600 mb-4",children:"Feedback component is not yet implemented in this development demo."}),(0,i.jsx)("button",{onClick:()=>m(!1),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Close"})]})})]}):null}function b(){1;return(0,i.jsx)(h,{})}}},e=>{e.O(0,[928,312,441,964,358],()=>e(e.s=4128)),_N_E=e.O()}]);