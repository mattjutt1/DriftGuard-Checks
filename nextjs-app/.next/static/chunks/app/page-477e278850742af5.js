(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4128:(e,s,t)=>{Promise.resolve().then(t.bind(t,5062))},5062:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>j});var l=t(5155),i=t(2115),a=t(7928);let r=t(3312).dp;function n(){let[e,s]=(0,i.useState)(!1),[t,l]=(0,i.useState)(null),[n,d]=(0,i.useState)(null),[c,o]=(0,i.useState)(0),[m,x]=(0,i.useState)(0),[u,h]=(0,i.useState)(""),[p,g]=(0,i.useState)(0),[b,v]=(0,i.useState)(null),[j,f]=(0,i.useState)(null),[N,y]=(0,i.useState)(null),w=(0,a.n_)(r.optimizations.createOptimizationRequest),k=(0,a.n_)(r.actions.quickOptimize),z=(0,a.n_)(r.actions.advancedOptimize),S=(0,a.n_)(r.actions.checkOllamaHealth),C=(0,a.IT)(r.optimizations.getSession,t?{sessionId:t}:"skip");(0,i.useEffect)(()=>{if(C&&e){if(C.progressSteps){o(C.progressSteps.filter(e=>"completed"===e.status).length+C.progressSteps.filter(e=>"processing"===e.status).length),x(C.progressSteps.length);let e=C.progressSteps.find(e=>"processing"===e.status);e&&h(e.step)}C.currentIteration&&g(C.currentIteration),"completed"===C.status&&(s(!1),C.finalResults&&(v(C.finalResults),f(C.finalResults.qualityMetrics)),h("Optimization completed successfully!")),"failed"===C.status&&(s(!1),d(C.errorMessage||"Optimization failed"),h("Optimization failed"))}},[C,e]);let D=(0,i.useCallback)(async function(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;if(!e.trim())return void d("Prompt cannot be empty");try{let r;s(!0),d(null),o(0),x(0),h("Starting optimization..."),g(0),v(null),f(null),y({prompt:e,contextDomain:t,advanced:i,iterations:a});let n=await w({originalPrompt:e,contextDomain:t||void 0});if(l(n),h(i?"Running advanced PromptWizard optimization...":"Running quick optimization..."),i?(x(3),r=await z({sessionId:n,maxIterations:a})):(x(4),r=await k({sessionId:n})),!r.success)throw Error(r.error||"Optimization failed")}catch(e){console.error("Optimization error:",e),s(!1),d(e instanceof Error?e.message:"An unexpected error occurred"),h("Optimization failed")}},[w,k,z]),O=(0,i.useCallback)(()=>{s(!1),l(null),d(null),o(0),x(0),h(""),g(0),v(null),f(null),y(null)},[]),P=(0,i.useCallback)(async()=>{N&&await D(N.prompt,N.contextDomain,N.advanced,N.iterations)},[N,D]);return{isOptimizing:e,currentSession:C,error:n,currentStep:c,totalSteps:m,progressMessage:u,currentIteration:p,results:b,qualityMetrics:j,startOptimization:D,resetOptimization:O,retryOptimization:P,checkOllamaHealth:(0,i.useCallback)(async()=>{try{return await S({})}catch(e){return{available:!1,model:"qwen3:4b",error:e instanceof Error?e.message:"Health check failed"}}},[S])}}function d(e){let{onOptimize:s,isOptimizing:t}=e,[a,r]=(0,i.useState)(""),[n,d]=(0,i.useState)(""),[c,o]=(0,i.useState)(!1),[m,x]=(0,i.useState)(2),u=async e=>{if(a.trim())try{await s(a,n,null!=e?e:c,m),r(""),d("")}catch(e){console.error("Failed to start optimization:",e)}};return(0,l.jsxs)("div",{className:"xl:col-span-2 space-y-6",children:[(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:"Optimization Mode"}),(0,l.jsxs)("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[(0,l.jsx)("button",{onClick:()=>o(!1),className:"px-4 py-2 rounded-md text-sm font-medium transition-all ".concat(c?"text-gray-600 hover:text-gray-900":"bg-blue-600 text-white shadow-md"),children:"Quick Mode"}),(0,l.jsx)("button",{onClick:()=>o(!0),className:"px-4 py-2 rounded-md text-sm font-medium transition-all ".concat(c?"bg-purple-600 text-white shadow-md":"text-gray-600 hover:text-gray-900"),children:"Advanced Mode"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"p-4 rounded-lg border-2 transition-all ".concat(c?"border-gray-200 bg-gray-50":"border-blue-200 bg-blue-50"),children:[(0,l.jsx)("h3",{className:"font-semibold text-blue-900 mb-2",children:"Quick Optimize"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Single-pass optimization with basic system prompts"}),(0,l.jsx)("div",{className:"mt-2 text-xs text-red-600",children:"⏱️ 60-90 seconds • \uD83C\uDFE0 Local only • \uD83D\uDD27 Development demo"})]}),(0,l.jsxs)("div",{className:"p-4 rounded-lg border-2 transition-all ".concat(c?"border-purple-200 bg-purple-50":"border-gray-200 bg-gray-50"),children:[(0,l.jsx)("h3",{className:"font-semibold text-purple-900 mb-2",children:"Advanced Mode"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Multi-iteration refinement with multiple system prompts"}),(0,l.jsx)("div",{className:"mt-2 text-xs text-red-600",children:"⏱️ 90-120 seconds • \uD83C\uDFE0 Local only • \uD83D\uDD27 Development demo"})]})]}),c&&(0,l.jsxs)("div",{className:"mt-6 p-4 bg-purple-50 rounded-lg border border-purple-200",children:[(0,l.jsxs)("label",{className:"block text-sm font-medium text-purple-900 mb-2",children:["Optimization Iterations: ",m]}),(0,l.jsx)("input",{type:"range",min:"1",max:"5",value:m,onChange:e=>x(parseInt(e.target.value)),className:"w-full h-2 bg-purple-200 rounded-lg appearance-none cursor-pointer slider",disabled:t}),(0,l.jsxs)("div",{className:"flex justify-between text-xs text-purple-600 mt-1",children:[(0,l.jsx)("span",{children:"1 (Fast)"}),(0,l.jsx)("span",{children:"3 (Balanced)"}),(0,l.jsx)("span",{children:"5 (Thorough)"})]})]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Your Prompt"}),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"prompt",className:"block text-sm font-medium text-gray-700 mb-2",children:"Original Prompt *"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("textarea",{id:"prompt",value:a,onChange:e=>r(e.target.value),placeholder:"Enter the prompt you'd like to optimize using Microsoft PromptWizard techniques...",className:"w-full h-40 p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none text-sm leading-relaxed",disabled:t}),(0,l.jsxs)("div",{className:"absolute bottom-3 right-3 text-xs text-gray-400",children:[a.length," characters"]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"context",className:"block text-sm font-medium text-gray-700 mb-2",children:"Context Domain (Optional)"}),(0,l.jsx)("input",{id:"context",type:"text",value:n,onChange:e=>d(e.target.value),placeholder:"e.g., marketing, technical documentation, creative writing, data analysis...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:t})]}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("button",{onClick:()=>u(),disabled:!a.trim()||t,className:"w-full py-4 px-6 font-semibold rounded-lg transition-all duration-200 ".concat(c?"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white shadow-lg":"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white shadow-lg"," disabled:bg-gray-400 disabled:cursor-not-allowed disabled:shadow-none"),children:t?(0,l.jsxs)("div",{className:"flex items-center justify-center",children:[(0,l.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c?"Processing Advanced Optimization...":"Optimizing..."]}):(0,l.jsxs)("div",{className:"flex items-center justify-center",children:[(0,l.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),c?"Start Advanced Optimization":"Quick Optimize"]})}),(0,l.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded p-3 mt-2",children:(0,l.jsxs)("p",{className:"text-xs text-amber-800 text-center px-4",children:["⚠️ ",c?"Processing will take 90-120 seconds. This is a development demo using basic system prompts.":"Processing will take 60-90 seconds. This is a development demo using basic system prompts."]})})]})]})]})]})}function c(e){let{isOptimizing:s,currentStep:t,totalSteps:i,message:a}=e;if(!s)return null;let r=i>0?t/i*100:0;return(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsx)("div",{className:"bg-white rounded-lg p-8 max-w-md w-full mx-4",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,l.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Optimizing Prompt"}),(0,l.jsx)("p",{className:"text-gray-600 mb-4",children:a}),i>0&&(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,l.jsxs)("span",{children:["Step ",t," of ",i]}),(0,l.jsxs)("span",{children:[Math.round(r),"%"]})]}),(0,l.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,l.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(r,"%")}})})]})]})})})}function o(e){let{label:s,value:t,maxValue:i=10,className:a="",showValue:r=!0}=e,n=Math.min(t/i*100,100);return(0,l.jsxs)("div",{className:"space-y-1 ".concat(a),children:[(0,l.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,l.jsx)("span",{className:"font-medium text-gray-700",children:s}),r&&(0,l.jsxs)("span",{className:"text-gray-600",children:[t.toFixed(1),"/",i]})]}),(0,l.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,l.jsx)("div",{className:"h-2.5 rounded-full transition-all duration-500 ease-out ".concat(n>=80?"bg-emerald-500":n>=60?"bg-blue-500":n>=40?"bg-yellow-500":"bg-red-500"),style:{width:"".concat(n,"%")}})})]})}function m(e){let{metrics:s,overallScore:t}=e;return(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Quality Metrics"}),t&&(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Overall Score:"}),(0,l.jsx)("span",{className:"text-xl font-bold text-blue-600",children:t.toFixed(1)})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsx)(o,{label:"Clarity",value:s.clarity}),(0,l.jsx)(o,{label:"Specificity",value:s.specificity}),(0,l.jsx)(o,{label:"Engagement",value:s.engagement}),s.structure&&(0,l.jsx)(o,{label:"Structure",value:s.structure}),s.completeness&&(0,l.jsx)(o,{label:"Completeness",value:s.completeness}),s.errorPrevention&&(0,l.jsx)(o,{label:"Error Prevention",value:s.errorPrevention})]})]})}function x(e){let{error:s,onDismiss:t}=e;return s?(0,l.jsx)("div",{className:"fixed top-4 right-4 z-50 max-w-md",children:(0,l.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,l.jsx)("span",{className:"text-sm",children:s})]}),(0,l.jsx)("button",{onClick:t,className:"ml-2 text-red-500 hover:text-red-700",children:"\xd7"})]})})}):null}let u={clarity:8.5,specificity:7.8,engagement:9.2,structure:8,completeness:8.7,errorPrevention:7.5,overall:8.3},h={bestPrompt:"Create a comprehensive guide for implementing responsive web design using CSS Grid and Flexbox, including practical examples and best practices for modern browsers.",improvements:["Enhanced specificity with technical details","Added practical examples requirement","Included modern browser compatibility focus","Structured for comprehensive coverage"],qualityMetrics:u,expertInsights:["Technical specificity improves response quality","Practical examples make content more valuable","Modern browser focus ensures relevance"]},p=[{_id:"demo-1",status:"completed",qualityScore:8.3,prompt:{originalPrompt:"How to make a website responsive?"},finalResults:{bestPrompt:"Create a comprehensive guide for implementing responsive web design..."},createdAt:Date.now()-864e5},{_id:"demo-2",status:"completed",qualityScore:7.9,prompt:{originalPrompt:"Write about JavaScript functions"},finalResults:{bestPrompt:"Explain JavaScript functions with practical examples..."},createdAt:Date.now()-1728e5}];function g(e){var s;let{isVisible:t,onClose:a}=e,[r,n]=(0,i.useState)(!1);return t?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,l.jsxs)("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold",children:"Optimization Results"}),(0,l.jsx)("button",{onClick:a,className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:"\xd7"})]}),(0,l.jsxs)("div",{className:"p-6 space-y-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:h.qualityMetrics.overall.toFixed(1)}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"Quality Score"})]}),(0,l.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-green-600",children:"3"}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"Iterations"})]}),(0,l.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:"45s"}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"Processing Time"})]})]}),(0,l.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,l.jsx)("h3",{className:"font-semibold mb-2",children:"Optimized Prompt:"}),(0,l.jsx)("div",{className:"bg-white rounded border p-3 text-sm",children:h.bestPrompt})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"font-semibold",children:"Key Improvements:"}),(0,l.jsx)("div",{className:"bg-white rounded-lg border p-4",children:(0,l.jsx)("div",{className:"space-y-2",children:h.improvements.map((e,s)=>(0,l.jsxs)("div",{className:"text-sm flex items-start",children:[(0,l.jsx)("span",{className:"inline-block w-2 h-2 bg-blue-500 rounded-full mt-1.5 mr-2 flex-shrink-0"}),e]},s))})})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"font-semibold",children:"Expert Insights:"}),(0,l.jsx)("div",{className:"bg-indigo-50 rounded-lg p-4",children:(0,l.jsx)("div",{className:"space-y-2",children:null==(s=h.expertInsights)?void 0:s.map((e,s)=>(0,l.jsxs)("div",{className:"text-sm flex items-start",children:[(0,l.jsx)("span",{className:"inline-block w-2 h-2 bg-indigo-500 rounded-full mt-1.5 mr-2 flex-shrink-0"}),e]},s))})})]}),(0,l.jsx)("div",{className:"mt-6 pt-6 border-t",children:(0,l.jsx)("button",{onClick:()=>n(!0),className:"w-full px-4 py-3 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors font-medium",children:"\uD83D\uDCAC Share Feedback on This Optimization"})})]})]})}),r&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Demo Mode"}),(0,l.jsx)("p",{className:"text-gray-600 mb-4",children:"This is a demo deployment. Feedback functionality requires a backend connection."}),(0,l.jsx)("button",{onClick:()=>n(!1),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Close"})]})})]}):null}function b(){let[e,s]=(0,i.useState)(!1),[t,a]=(0,i.useState)(!1),[r,n]=(0,i.useState)(0),[o,b]=(0,i.useState)(4),[v,j]=(0,i.useState)(""),[f,N]=(0,i.useState)(null),y=async(e,t,l,i)=>{if(!e.trim())return;a(!0),N(null),n(0),b(4),j("Starting optimization...");let r=["Analyzing prompt structure...","Generating improvements...","Running quality assessment...","Finalizing results..."];for(let e=0;e<r.length;e++)n(e+1),j(r[e]),await new Promise(e=>setTimeout(e,1500));a(!1),j("Optimization completed!"),s(!0)},w=async()=>{alert(JSON.stringify({status:"Demo Mode",message:"This is a frontend-only demo deployment. Backend health check requires Convex connection.",available:!1,model:"qwen3:4b"},null,2))};return(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[(0,l.jsx)(c,{isOptimizing:t,currentStep:r,totalSteps:o,message:v}),(0,l.jsx)(g,{isVisible:e,onClose:()=>s(!1)}),(0,l.jsx)(x,{error:f,onDismiss:()=>{N(null),a(!1),n(0),j("")}}),(0,l.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[(0,l.jsxs)("header",{className:"text-center mb-12",children:[(0,l.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full mb-4",children:(0,l.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,l.jsx)("h1",{className:"text-5xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent mb-4",children:"PromptEvolver"}),(0,l.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6 max-w-2xl mx-auto",children:[(0,l.jsx)("p",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"\uD83C\uDFAF Demo Mode - Frontend Only"}),(0,l.jsx)("p",{className:"text-sm text-yellow-700",children:"This is a demo deployment showing the UI and simulated functionality • No backend processing"})]}),(0,l.jsx)("p",{className:"text-xl text-gray-600 mb-6 max-w-2xl mx-auto",children:"Advanced Prompt Optimization Demo - UI Preview"}),(0,l.jsx)("div",{className:"flex flex-wrap justify-center gap-4",children:(0,l.jsxs)("button",{onClick:w,className:"inline-flex items-center px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors shadow-md",children:[(0,l.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"System Health (Demo)"]})})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[(0,l.jsx)(d,{onOptimize:y,isOptimizing:t}),(0,l.jsx)("div",{className:"xl:col-span-2",children:(0,l.jsx)(m,{metrics:u,overallScore:h.qualityMetrics.overall})}),(0,l.jsxs)("div",{className:"xl:col-span-1 space-y-6",children:[(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Session Stats"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:p.length}),(0,l.jsx)("div",{className:"text-xs text-gray-600",children:"Demo Sessions"})]}),(0,l.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-green-600",children:p.filter(e=>"completed"===e.status).length}),(0,l.jsx)("div",{className:"text-xs text-gray-600",children:"Completed"})]})]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Demo Optimizations"}),(0,l.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),(0,l.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:p.map(e=>{var s,t,i,a;return(0,l.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,l.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,l.jsx)("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e.status]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("svg",{className:"w-4 h-4 text-yellow-400 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),(0,l.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e.qualityScore.toFixed(1)})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-xs font-medium text-gray-500 mb-1",children:"Original:"}),(0,l.jsxs)("p",{className:"text-sm text-gray-700 line-clamp-2",children:[null==(s=e.prompt)?void 0:s.originalPrompt.substring(0,80),((null==(t=e.prompt)?void 0:t.originalPrompt.length)||0)>80&&"..."]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-xs font-medium text-gray-500 mb-1",children:"Optimized:"}),(0,l.jsxs)("p",{className:"text-sm text-gray-900 line-clamp-2",children:[null==(i=e.finalResults)?void 0:i.bestPrompt.substring(0,80),(null==(a=e.finalResults)?void 0:a.bestPrompt.length)>80&&"..."]})]})]}),(0,l.jsxs)("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),new Date(e.createdAt).toLocaleDateString()]}),(0,l.jsx)("button",{className:"text-blue-600 hover:text-blue-800 font-medium",children:"Demo Data"})]})]},e._id)})})]})]})]}),(0,l.jsx)("footer",{className:"text-center mt-16 pb-8",children:(0,l.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[(0,l.jsxs)("div",{className:"flex flex-wrap justify-center items-center gap-6 text-sm text-gray-600",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),(0,l.jsx)("span",{children:"Next.js 15 + React 19"})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mr-2"}),(0,l.jsx)("span",{children:"Demo Mode - Frontend Only"})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),(0,l.jsx)("span",{children:"126 kB Bundle Size"})]})]}),(0,l.jsx)("div",{className:"mt-4 text-xs text-blue-600 font-medium",children:"\uD83C\uDFAF Frontend demo deployment - Full functionality requires Convex backend"})]})})})]})]})}function v(e){var s;let{isVisible:t,onClose:a}=e,{results:r,currentSession:d,qualityMetrics:c}=n(),[o,m]=(0,i.useState)(!1);return t&&r?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,l.jsxs)("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold",children:"Optimization Results"}),(0,l.jsx)("button",{onClick:a,className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:"\xd7"})]}),(0,l.jsxs)("div",{className:"p-6 space-y-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null==(s=r.qualityMetrics.overall)?void 0:s.toFixed(1))||"N/A"}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"Quality Score"})]}),(0,l.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-green-600",children:(null==d?void 0:d.iterationsCompleted)||1}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"Iterations"})]}),(0,l.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[(0,l.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[Math.round(((null==d?void 0:d.processingTimeMs)||0)/1e3),"s"]}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"Processing Time"})]})]}),r.bestPrompt&&(0,l.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,l.jsx)("h3",{className:"font-semibold mb-2",children:"Optimized Prompt:"}),(0,l.jsx)("div",{className:"bg-white rounded border p-3 text-sm",children:r.bestPrompt})]}),r.improvements&&r.improvements.length>0&&(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"font-semibold",children:"Key Improvements:"}),(0,l.jsx)("div",{className:"bg-white rounded-lg border p-4",children:(0,l.jsx)("div",{className:"space-y-2",children:r.improvements.map((e,s)=>(0,l.jsxs)("div",{className:"text-sm flex items-start",children:[(0,l.jsx)("span",{className:"inline-block w-2 h-2 bg-blue-500 rounded-full mt-1.5 mr-2 flex-shrink-0"}),e]},s))})})]}),r.expertInsights&&r.expertInsights.length>0&&(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"font-semibold",children:"Expert Insights:"}),(0,l.jsx)("div",{className:"bg-indigo-50 rounded-lg p-4",children:(0,l.jsx)("div",{className:"space-y-2",children:r.expertInsights.map((e,s)=>(0,l.jsxs)("div",{className:"text-sm flex items-start",children:[(0,l.jsx)("span",{className:"inline-block w-2 h-2 bg-indigo-500 rounded-full mt-1.5 mr-2 flex-shrink-0"}),e]},s))})})]}),(0,l.jsx)("div",{className:"mt-6 pt-6 border-t",children:(0,l.jsx)("button",{onClick:()=>m(!0),className:"w-full px-4 py-3 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors font-medium",children:"\uD83D\uDCAC Share Feedback on This Optimization"})})]})]})}),o&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Feedback Not Available"}),(0,l.jsx)("p",{className:"text-gray-600 mb-4",children:"Feedback component is not yet implemented in this development demo."}),(0,l.jsx)("button",{onClick:()=>m(!1),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Close"})]})})]}):null}function j(){1;return(0,l.jsx)(b,{})}}},e=>{e.O(0,[928,312,441,964,358],()=>e(e.s=4128)),_N_E=e.O()}]);