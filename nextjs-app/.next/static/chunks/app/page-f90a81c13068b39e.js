(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4128:(e,s,t)=>{Promise.resolve().then(t.bind(t,6468))},6468:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>f});var a=t(5155),i=t(2115),l=t(7928);let n=t(3312).dp;function r(){let[e,s]=(0,i.useState)(!1),[t,a]=(0,i.useState)(null),[r,o]=(0,i.useState)(null),[c,d]=(0,i.useState)(0),[m,x]=(0,i.useState)(0),[u,h]=(0,i.useState)(""),[p,g]=(0,i.useState)(0),[b,v]=(0,i.useState)(null),[f,j]=(0,i.useState)(null),[y,N]=(0,i.useState)(null),w=(0,l.n_)(n.optimizations.createOptimizationRequest),k=(0,l.y3)(n.actions.quickOptimize),z=(0,l.y3)(n.actions.advancedOptimize),C=(0,l.y3)(n.actions.checkOllamaHealth),S=(0,l.IT)(n.optimizations.getSession,t?{sessionId:t}:"skip");(0,i.useEffect)(()=>{if(S&&e){if(S.progressSteps){d(S.progressSteps.filter(e=>"completed"===e.status).length+S.progressSteps.filter(e=>"processing"===e.status).length),x(S.progressSteps.length);let e=S.progressSteps.find(e=>"processing"===e.status);e&&h(e.step)}S.currentIteration&&g(S.currentIteration),"completed"===S.status&&(s(!1),S.finalResults&&(v(S.finalResults),j(S.finalResults.qualityMetrics)),h("Optimization completed successfully!")),"failed"===S.status&&(s(!1),o(S.errorMessage||"Optimization failed"),h("Optimization failed"))}},[S,e]);let P=(0,i.useCallback)(async function(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;if(!e.trim())return void o("Prompt cannot be empty");try{let n;s(!0),o(null),d(0),x(0),h("Starting optimization..."),g(0),v(null),j(null),N({prompt:e,contextDomain:t,advanced:i,iterations:l});let r=await w({originalPrompt:e,contextDomain:t||void 0});if(a(r),h(i?"Running advanced PromptWizard optimization...":"Running quick optimization..."),i?(x(3),n=await z({sessionId:r,maxIterations:l})):(x(4),n=await k({sessionId:r})),!n.success)throw Error(n.error||"Optimization failed")}catch(e){console.error("Optimization error:",e),s(!1),o(e instanceof Error?e.message:"An unexpected error occurred"),h("Optimization failed")}},[w,k,z]),M=(0,i.useCallback)(()=>{s(!1),a(null),o(null),d(0),x(0),h(""),g(0),v(null),j(null),N(null)},[]),O=(0,i.useCallback)(async()=>{y&&await P(y.prompt,y.contextDomain,y.advanced,y.iterations)},[y,P]);return{isOptimizing:e,currentSession:S,error:r,currentStep:c,totalSteps:m,progressMessage:u,currentIteration:p,results:b,qualityMetrics:f,startOptimization:P,resetOptimization:M,retryOptimization:O,checkOllamaHealth:(0,i.useCallback)(async()=>{try{return await C({})}catch(e){return{available:!1,model:"qwen3:4b",error:e instanceof Error?e.message:"Health check failed"}}},[C])}}function o(e){let{onOptimize:s,isOptimizing:t,useAdvancedMode:l,setUseAdvancedMode:n}=e,[r,o]=(0,i.useState)(""),[c,d]=(0,i.useState)(""),[m,x]=(0,i.useState)(2),u=async e=>{if(r.trim())try{await s(r,c,null!=e?e:l,m),o(""),d("")}catch(e){console.error("Failed to start optimization:",e)}};return(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"p-4 rounded-lg border-2 transition-all ".concat(l?"border-gray-200 bg-gray-50":"border-blue-200 bg-blue-50"),children:[(0,a.jsx)("h4",{className:"font-semibold text-blue-900 mb-2",children:"Quick Optimize"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Single-pass optimization with basic system prompts"}),(0,a.jsx)("div",{className:"mt-2 text-xs text-gray-500",children:"⏱️ 60-90 seconds • \uD83D\uDD27 Development demo"})]}),(0,a.jsxs)("div",{className:"p-4 rounded-lg border-2 transition-all ".concat(l?"border-purple-200 bg-purple-50":"border-gray-200 bg-gray-50"),children:[(0,a.jsx)("h4",{className:"font-semibold text-purple-900 mb-2",children:"Advanced Mode"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Multi-iteration refinement with multiple system prompts"}),(0,a.jsx)("div",{className:"mt-2 text-xs text-gray-500",children:"⏱️ 90-120 seconds • \uD83D\uDD27 Development demo"})]})]}),l&&(0,a.jsxs)("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-purple-900 mb-2",children:["Optimization Iterations: ",m]}),(0,a.jsx)("input",{type:"range",min:"1",max:"5",value:m,onChange:e=>x(parseInt(e.target.value)),className:"w-full h-2 bg-purple-200 rounded-lg appearance-none cursor-pointer slider",disabled:t}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-purple-600 mt-1",children:[(0,a.jsx)("span",{children:"1 (Fast)"}),(0,a.jsx)("span",{children:"3 (Balanced)"}),(0,a.jsx)("span",{children:"5 (Thorough)"})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"prompt",className:"block text-sm font-medium text-gray-700 mb-2",children:"Original Prompt *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("textarea",{id:"prompt",value:r,onChange:e=>o(e.target.value),placeholder:"Enter the prompt you'd like to optimize using Microsoft PromptWizard techniques...",className:"w-full h-40 p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none text-sm leading-relaxed",disabled:t}),(0,a.jsxs)("div",{className:"absolute bottom-3 right-3 text-xs text-gray-400",children:[r.length," characters"]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"context",className:"block text-sm font-medium text-gray-700 mb-2",children:"Context Domain (Optional)"}),(0,a.jsx)("input",{id:"context",type:"text",value:c,onChange:e=>d(e.target.value),placeholder:"e.g., marketing, technical documentation, creative writing, data analysis...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:t})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("button",{onClick:()=>u(),disabled:!r.trim()||t,className:"w-full py-4 px-6 font-semibold rounded-lg transition-all duration-200 ".concat(l?"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white shadow-lg":"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white shadow-lg"," disabled:bg-gray-400 disabled:cursor-not-allowed disabled:shadow-none"),children:t?(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l?"Processing Advanced Optimization...":"Optimizing..."]}):(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),l?"Start Advanced Optimization":"Quick Optimize"]})}),(0,a.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded p-3 mt-2",children:(0,a.jsxs)("p",{className:"text-xs text-amber-800 text-center px-4",children:["⚠️ ",l?"Processing will take 90-120 seconds. This is a development demo using basic system prompts.":"Processing will take 60-90 seconds. This is a development demo using basic system prompts."]})})]})]})]})}function c(e){let{isOptimizing:s,currentStep:t,totalSteps:i,message:l}=e;if(!s)return null;let n=i>0?t/i*100:0;return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsx)("div",{className:"bg-white rounded-lg p-8 max-w-md w-full mx-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Optimizing Prompt"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:l}),i>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,a.jsxs)("span",{children:["Step ",t," of ",i]}),(0,a.jsxs)("span",{children:[Math.round(n),"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(n,"%")}})})]})]})})})}function d(e){let{label:s,value:t,maxValue:i=10,className:l="",showValue:n=!0}=e,r=Math.min(t/i*100,100);return(0,a.jsxs)("div",{className:"space-y-1 ".concat(l),children:[(0,a.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,a.jsx)("span",{className:"font-medium text-gray-700",children:s}),n&&(0,a.jsxs)("span",{className:"text-gray-600",children:[t.toFixed(1),"/",i]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,a.jsx)("div",{className:"h-2.5 rounded-full transition-all duration-500 ease-out ".concat(r>=80?"bg-emerald-500":r>=60?"bg-blue-500":r>=40?"bg-yellow-500":"bg-red-500"),style:{width:"".concat(r,"%")}})})]})}function m(e){let{metrics:s,overallScore:t}=e;return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Quality Metrics"}),t&&(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Overall Score:"}),(0,a.jsx)("span",{className:"text-xl font-bold text-blue-600",children:t.toFixed(1)})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(d,{label:"Clarity",value:s.clarity}),(0,a.jsx)(d,{label:"Specificity",value:s.specificity}),(0,a.jsx)(d,{label:"Engagement",value:s.engagement}),s.structure&&(0,a.jsx)(d,{label:"Structure",value:s.structure}),s.completeness&&(0,a.jsx)(d,{label:"Completeness",value:s.completeness}),s.errorPrevention&&(0,a.jsx)(d,{label:"Error Prevention",value:s.errorPrevention})]})]})}function x(e){let{error:s,onDismiss:t}=e;return s?(0,a.jsx)("div",{className:"fixed top-4 right-4 z-50 max-w-md",children:(0,a.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,a.jsx)("span",{className:"text-sm",children:s})]}),(0,a.jsx)("button",{onClick:t,className:"ml-2 text-red-500 hover:text-red-700",children:"\xd7"})]})})}):null}let u=[{_id:"demo-1",status:"completed",qualityScore:8.3,prompt:{originalPrompt:"Write an effective marketing email"},finalResults:{bestPrompt:"Create a compelling, personalized marketing email with clear value proposition, engaging subject line, and specific call-to-action for digital marketing campaigns"},createdAt:Date.now()-864e5},{_id:"demo-2",status:"completed",qualityScore:7.9,prompt:{originalPrompt:"Explain machine learning concepts"},finalResults:{bestPrompt:"Create a comprehensive, step-by-step explanation of core machine learning concepts including specific examples, practical implementations, and real-world applications for technical education"},createdAt:Date.now()-1728e5}];function h(e){var s;let{isVisible:t,onClose:l,results:n}=e,[r,o]=(0,i.useState)(!1);return t&&n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Optimization Results"}),(0,a.jsx)("button",{onClick:l,className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:"\xd7"})]}),(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:n.qualityMetrics.overall.toFixed(1)}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Quality Score"})]}),(0,a.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:"3"}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Iterations"})]}),(0,a.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:"45s"}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Processing Time"})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:"Optimized Prompt:"}),(0,a.jsx)("div",{className:"bg-white rounded border p-3 text-sm",children:n.bestPrompt})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"font-semibold",children:"Key Improvements:"}),(0,a.jsx)("div",{className:"bg-white rounded-lg border p-4",children:(0,a.jsx)("div",{className:"space-y-2",children:n.improvements.map((e,s)=>(0,a.jsxs)("div",{className:"text-sm flex items-start",children:[(0,a.jsx)("span",{className:"inline-block w-2 h-2 bg-blue-500 rounded-full mt-1.5 mr-2 flex-shrink-0"}),e]},s))})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"font-semibold",children:"Expert Insights:"}),(0,a.jsx)("div",{className:"bg-indigo-50 rounded-lg p-4",children:(0,a.jsx)("div",{className:"space-y-2",children:null==(s=n.expertInsights)?void 0:s.map((e,s)=>(0,a.jsxs)("div",{className:"text-sm flex items-start",children:[(0,a.jsx)("span",{className:"inline-block w-2 h-2 bg-indigo-500 rounded-full mt-1.5 mr-2 flex-shrink-0"}),e]},s))})})]}),(0,a.jsx)("div",{className:"mt-6 pt-6 border-t",children:(0,a.jsx)("button",{onClick:()=>o(!0),className:"w-full px-4 py-3 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors font-medium",children:"\uD83D\uDCAC Share Feedback on This Optimization"})})]})]})}),r&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Demo Mode"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"This is a demo deployment. Feedback functionality requires a backend connection."}),(0,a.jsx)("button",{onClick:()=>o(!1),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Close"})]})})]}):null}function p(){var e;let[s,t]=(0,i.useState)(!1),[l,n]=(0,i.useState)(!1),[r,d]=(0,i.useState)(0),[p,g]=(0,i.useState)(4),[b,v]=(0,i.useState)(""),[f,j]=(0,i.useState)(null),[y,N]=(0,i.useState)(null),w=async(e,s,a,i)=>{if(!e.trim())return;n(!0),j(null),d(0),g(4),v("Starting optimization...");let l=["Analyzing prompt structure...","Generating improvements...","Running quality assessment...","Finalizing results..."];for(let e=0;e<l.length;e++)d(e+1),v(l[e]),await new Promise(e=>setTimeout(e,1500));N(function(e,s,t){console.log("\uD83D\uDD27 REAL OPTIMIZER: Analyzing prompt:",e.substring(0,50)+"..."),console.log("\uD83D\uDD27 REAL OPTIMIZER: Context domain:",s),console.log("\uD83D\uDD27 REAL OPTIMIZER: Advanced mode:",t);let a=function(e){var s;let t,a={length:e.length,hasSpecificGoal:!1,hasContext:!1,hasConstraints:!1,hasExamples:!1,hasOutputFormat:!1,hasRole:!1,hasSteps:!1,domain:function(e){let s=e.toLowerCase();if(/\b(marketing|campaign|advertisement|ad|brand|customer|conversion|sales|lead|a\/b test|ab test)\b/.test(s))return"marketing";if(/\b(code|programming|software|development|function|algorithm|debug|api|database)\b/.test(s))return"programming";if(/\b(business|strategy|management|leadership|finance|revenue|profit|company)\b/.test(s))return"business";if(/\b(design|ui|ux|interface|user experience|visual|layout|creative)\b/.test(s))return"design";if(/\b(content|writing|blog|article|copy|text|documentation)\b/.test(s))return"content";else if(/\b(education|learn|teach|training|course|tutorial|academic)\b/.test(s))return"education";return"general"}(e),tone:function(e){let s=e.toLowerCase();return/\b(professional|formal|business|corporate|official)\b/.test(s)?"professional":/\b(casual|friendly|conversational|informal|relaxed)\b/.test(s)?"casual":/\b(technical|detailed|precise|specific|expert|advanced)\b/.test(s)?"technical":/\b(creative|innovative|original|imaginative|unique)\b/.test(s)?"creative":"neutral"}(e),complexity:(t=0,(s=e).length>200?t+=.3:s.length>100?t+=.2:t+=.1,t+=Math.min(.1*(s.match(/\band\b/g)||[]).length,.3),Math.min(t+=Math.min(.1*(s.match(/\b(implement|analyze|optimize|evaluate|integrate|configure|customize)\b/g)||[]).length,.4),1)),weaknesses:[],strengths:[]},i=e.toLowerCase();return a.hasSpecificGoal=/\b(create|generate|write|develop|build|design|analyze|explain|compare|evaluate)\b/.test(i),a.hasContext=/\b(for|about|regarding|in the context of|background|situation)\b/.test(i),a.hasConstraints=/\b(must|should|within|limit|requirement|criteria|rule)\b/.test(i),a.hasExamples=/\b(example|instance|such as|like|including)\b/.test(i),a.hasOutputFormat=/\b(format|structure|organize|list|table|json|markdown)\b/.test(i),a.hasRole=/\b(as a|act as|you are|assume the role|expert|professional)\b/.test(i),a.hasSteps=/\b(step|process|procedure|method|approach|workflow)\b/.test(i),a.length<20&&a.weaknesses.push("Too brief - lacks necessary detail"),a.hasSpecificGoal||a.weaknesses.push("Goal/objective not clearly defined"),a.hasContext||a.weaknesses.push("Missing context and background information"),a.hasOutputFormat||a.weaknesses.push("Desired output format not specified"),a.length>300&&a.weaknesses.push("May be too verbose - could be more focused"),a.hasSpecificGoal&&a.strengths.push("Clear goal/objective defined"),a.hasContext&&a.strengths.push("Good contextual information provided"),a.hasConstraints&&a.strengths.push("Includes helpful constraints and requirements"),a.hasExamples&&a.strengths.push("Contains examples to clarify intent"),a.hasRole&&a.strengths.push("Specifies desired perspective/expertise level"),a}(e),i=function(e,s){let t={clarity:5,specificity:5,engagement:5,structure:5,completeness:5,errorPrevention:5,overall:0};return s.hasSpecificGoal&&(t.clarity+=1.5),s.hasContext&&(t.clarity+=1),s.length<20&&(t.clarity-=2),s.length>300&&(t.clarity-=.5),s.hasConstraints&&(t.specificity+=1.5),s.hasExamples&&(t.specificity+=1),s.hasOutputFormat&&(t.specificity+=1),"general"!==s.domain&&(t.specificity+=.5),s.hasRole&&(t.engagement+=1),"neutral"!==s.tone&&(t.engagement+=.5),s.hasExamples&&(t.engagement+=1),s.complexity>.5&&(t.engagement+=.5),s.hasSteps&&(t.structure+=1.5),s.hasOutputFormat&&(t.structure+=1),(e.includes("\n")||e.includes("•")||e.includes("-"))&&(t.structure+=.5),t.completeness+=.5*s.strengths.length,t.completeness-=.3*s.weaknesses.length,s.hasConstraints&&(t.errorPrevention+=1),s.hasExamples&&(t.errorPrevention+=.5),s.hasOutputFormat&&(t.errorPrevention+=1),Object.keys(t).forEach(e=>{"overall"!==e&&(t[e]=Math.max(3,Math.min(10,t[e])))}),t.overall=(t.clarity+t.specificity+t.engagement+t.structure+t.completeness+t.errorPrevention)/6,t}(e,a),l=function(e,s,t,a){var i,l,n,r,o,c,d,m,x;let u,h,p,g=e,b=[],v=[];return"marketing"===s.domain?(i=e,l=s,n=a,u=i,l.hasRole||(u="As an experienced marketing strategist, "+u.toLowerCase()),i.includes("target audience")||(u+="\n\nSpecify the target audience demographics, psychographics, and pain points."),i.includes("metric")||i.includes("measure")||(u+=" Include specific KPIs and success metrics to measure campaign effectiveness."),n&&(u+="\n\nAdvanced requirements:\n• Provide statistical significance calculations for A/B tests\n• Include conversion funnel analysis\n• Consider budget allocation and ROI projections\n• Account for seasonal trends and market conditions"),g=u,b.push("Enhanced for marketing effectiveness and conversion focus"),b.push("Added specific metrics and success criteria for campaigns"),v.push("Marketing prompts benefit from clear target audience definition"),v.push("A/B testing requires specific variables and measurement criteria")):"programming"===s.domain?(r=e,o=s,c=a,h=r,o.hasRole||(h="As a senior software engineer, "+h.toLowerCase()),r.includes("language")||r.includes("framework")||(h+=" Specify the programming language, framework, and version requirements."),c&&(h+="\n\nTechnical requirements:\n• Include error handling and edge cases\n• Provide unit tests and documentation\n• Consider performance optimization and scalability\n• Follow industry best practices and design patterns"),g=h,b.push("Added technical requirements and implementation details"),b.push("Specified programming languages and frameworks"),v.push("Code-related prompts need clear input/output specifications"),v.push("Including error handling and edge cases improves code quality")):(d=e,m=s,x=a,p=d,m.hasOutputFormat||(p+=" Please provide a well-structured response with clear sections and actionable insights."),!m.hasContext&&m.weaknesses.includes("Missing context and background information")&&(p+=" Include relevant background context and explain your reasoning."),x&&(p+="\n\nAdvanced requirements:\n• Provide multiple perspectives or approaches\n• Include potential challenges and mitigation strategies\n• Reference current best practices and industry standards"),g=p,b.push("Improved clarity and structure"),b.push("Added context and specific requirements"),v.push("Clear prompts lead to more accurate AI responses"),v.push("Specific examples help AI understand the desired output")),t&&"general"!==t&&t!==s.domain&&(g+="\n\nContext: This should be tailored specifically for ".concat(t," applications and best practices."),b.push("Customized for ".concat(t," domain requirements")),v.push("Domain-specific context ensures relevant and accurate responses")),{optimizedPrompt:g,improvements:b.slice(0,4),expertInsights:v.slice(0,3),reasoning:"Optimized based on ".concat(s.domain," domain analysis with ").concat(s.weaknesses.length," identified improvements and ").concat(s.strengths.length," preserved strengths.")}}(e,a,s,t),n={bestPrompt:l.optimizedPrompt,improvements:l.improvements,qualityMetrics:i,reasoning:l.reasoning,expertInsights:l.expertInsights};return console.log("\uD83D\uDD27 REAL OPTIMIZER: Generated optimization:",l.optimizedPrompt.substring(0,100)+"..."),n}(e,s,a)),n(!1),v("Optimization completed!"),t(!0)},k=async()=>{alert(JSON.stringify({status:"Demo Mode",message:"This is a frontend-only demo deployment. Backend health check requires Convex connection.",available:!1,model:"qwen3:4b"},null,2))};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[(0,a.jsx)(c,{isOptimizing:l,currentStep:r,totalSteps:p,message:b}),(0,a.jsx)(h,{isVisible:s,onClose:()=>t(!1),results:y}),(0,a.jsx)(x,{error:f,onDismiss:()=>{j(null),n(!1),d(0),v("")}}),(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[(0,a.jsxs)("header",{className:"text-center mb-12",children:[(0,a.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full mb-4",children:(0,a.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,a.jsx)("h1",{className:"text-5xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent mb-4",children:"PromptEvolver"}),(0,a.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6 max-w-2xl mx-auto",children:[(0,a.jsx)("p",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"\uD83C\uDFAF Demo Mode - Frontend Only"}),(0,a.jsx)("p",{className:"text-sm text-yellow-700",children:"This is a demo deployment showing the UI and simulated functionality • No backend processing"})]}),(0,a.jsx)("p",{className:"text-xl text-gray-600 mb-6 max-w-2xl mx-auto",children:"Advanced Prompt Optimization Demo - UI Preview"}),(0,a.jsx)("div",{className:"flex flex-wrap justify-center gap-4",children:(0,a.jsxs)("button",{onClick:k,className:"inline-flex items-center px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors shadow-md",children:[(0,a.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"System Health (Demo)"]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[(0,a.jsx)(o,{onOptimize:w,isOptimizing:l,useAdvancedMode:!1,setUseAdvancedMode:()=>{}}),(0,a.jsx)("div",{className:"xl:col-span-2",children:(0,a.jsx)(m,{metrics:(null==y?void 0:y.qualityMetrics)||{clarity:8.5,specificity:7.8,engagement:9.2,structure:8,completeness:8.7,errorPrevention:7.5,overall:8.3},overallScore:(null==y||null==(e=y.qualityMetrics)?void 0:e.overall)||8.3})}),(0,a.jsxs)("div",{className:"xl:col-span-1 space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Session Stats"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:u.length}),(0,a.jsx)("div",{className:"text-xs text-gray-600",children:"Demo Sessions"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:u.filter(e=>"completed"===e.status).length}),(0,a.jsx)("div",{className:"text-xs text-gray-600",children:"Completed"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Demo Optimizations"}),(0,a.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),(0,a.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:u.map(e=>{var s,t,i,l;return(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,a.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,a.jsx)("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e.status]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("svg",{className:"w-4 h-4 text-yellow-400 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e.qualityScore.toFixed(1)})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs font-medium text-gray-500 mb-1",children:"Original:"}),(0,a.jsxs)("p",{className:"text-sm text-gray-700 line-clamp-2",children:[null==(s=e.prompt)?void 0:s.originalPrompt.substring(0,80),((null==(t=e.prompt)?void 0:t.originalPrompt.length)||0)>80&&"..."]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs font-medium text-gray-500 mb-1",children:"Optimized:"}),(0,a.jsxs)("p",{className:"text-sm text-gray-900 line-clamp-2",children:[null==(i=e.finalResults)?void 0:i.bestPrompt.substring(0,80),(null==(l=e.finalResults)?void 0:l.bestPrompt.length)>80&&"..."]})]})]}),(0,a.jsxs)("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),new Date(e.createdAt).toLocaleDateString()]}),(0,a.jsx)("button",{className:"text-blue-600 hover:text-blue-800 font-medium",children:"Demo Data"})]})]},e._id)})})]})]})]}),(0,a.jsx)("footer",{className:"text-center mt-16 pb-8",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[(0,a.jsxs)("div",{className:"flex flex-wrap justify-center items-center gap-6 text-sm text-gray-600",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),(0,a.jsx)("span",{children:"Next.js 15 + React 19"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mr-2"}),(0,a.jsx)("span",{children:"Demo Mode - Frontend Only"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),(0,a.jsx)("span",{children:"126 kB Bundle Size"})]})]}),(0,a.jsx)("div",{className:"mt-4 text-xs text-blue-600 font-medium",children:"\uD83C\uDFAF Frontend demo deployment - Full functionality requires Convex backend"})]})})})]})]})}let g="https://resilient-guanaco-29.convex.cloud",b=g&&""!==g.trim();function v(e){var s;let{isVisible:t,onClose:l}=e,{results:n,currentSession:o,qualityMetrics:c}=r(),[d,m]=(0,i.useState)(!1);return t&&n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Optimization Results"}),(0,a.jsx)("button",{onClick:l,className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:"\xd7"})]}),(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null==(s=n.qualityMetrics.overall)?void 0:s.toFixed(1))||"N/A"}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Quality Score"})]}),(0,a.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:(null==o?void 0:o.iterationsCompleted)||1}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Iterations"})]}),(0,a.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[Math.round(((null==o?void 0:o.processingTimeMs)||0)/1e3),"s"]}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Processing Time"})]})]}),n.bestPrompt&&(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:"Optimized Prompt:"}),(0,a.jsx)("div",{className:"bg-white rounded border p-3 text-sm",children:n.bestPrompt})]}),n.improvements&&n.improvements.length>0&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"font-semibold",children:"Key Improvements:"}),(0,a.jsx)("div",{className:"bg-white rounded-lg border p-4",children:(0,a.jsx)("div",{className:"space-y-2",children:n.improvements.map((e,s)=>(0,a.jsxs)("div",{className:"text-sm flex items-start",children:[(0,a.jsx)("span",{className:"inline-block w-2 h-2 bg-blue-500 rounded-full mt-1.5 mr-2 flex-shrink-0"}),e]},s))})})]}),n.expertInsights&&n.expertInsights.length>0&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"font-semibold",children:"Expert Insights:"}),(0,a.jsx)("div",{className:"bg-indigo-50 rounded-lg p-4",children:(0,a.jsx)("div",{className:"space-y-2",children:n.expertInsights.map((e,s)=>(0,a.jsxs)("div",{className:"text-sm flex items-start",children:[(0,a.jsx)("span",{className:"inline-block w-2 h-2 bg-indigo-500 rounded-full mt-1.5 mr-2 flex-shrink-0"}),e]},s))})})]}),(0,a.jsx)("div",{className:"mt-6 pt-6 border-t",children:(0,a.jsx)("button",{onClick:()=>m(!0),className:"w-full px-4 py-3 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors font-medium",children:"\uD83D\uDCAC Share Feedback on This Optimization"})})]})]})}),d&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Feedback Not Available"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Feedback component is not yet implemented in this development demo."}),(0,a.jsx)("button",{onClick:()=>m(!1),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Close"})]})})]}):null}function f(){let[e,s]=(0,i.useState)(!1),[t,d]=(0,i.useState)(!1),u=r();!function(){let[e,s]=(0,i.useState)(!1),[t,a]=(0,i.useState)(null),[l,n]=(0,i.useState)(0),[r,o]=(0,i.useState)(4),[c,d]=(0,i.useState)(""),[m,x]=(0,i.useState)(0),[u,h]=(0,i.useState)(null),[p,g]=(0,i.useState)(null),[b,v]=(0,i.useState)(null),f=async e=>{o(e.length);for(let s=0;s<e.length;s++)n(s+1),d(e[s]),x(s+1),await new Promise(e=>setTimeout(e,1e3+1500*Math.random()))};(0,i.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"general",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(arguments.length>3&&void 0!==arguments[3]&&arguments[3],!e.trim())return void a("Prompt cannot be empty");try{let l;s(!0),a(null),n(0),d("Initializing optimization..."),x(0),h(null),g(null),v(null),console.log("\uD83D\uDE80 DIRECT API: Starting real optimization"),console.log("\uD83D\uDE80 DIRECT API: Prompt:",e.substring(0,50)+"..."),console.log("\uD83D\uDE80 DIRECT API: Domain:",t),console.log("\uD83D\uDE80 DIRECT API: Advanced:",i);let r=f(i?["Generating expert identity...","Applying PromptWizard methodology...","Processing with Qwen3:4b model...","Calculating quality metrics...","Finalizing optimization..."]:["Analyzing prompt structure...","Applying critique_n_refine...","Processing with Qwen3:4b...","Generating improvements..."]),o=await fetch("/api/optimize",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e.trim(),contextDomain:t,useAdvancedMode:i})});if(!o.ok){let e=await o.json();throw Error(e.error||"API request failed")}let c=await o.json();if(!c.success)throw Error(c.error||"Optimization failed");await r,h(c.result),g(c.result.qualityMetrics),v((l=c.result,{_id:"session-".concat(Date.now()),status:"completed",iterationsCompleted:3,processingTimeMs:45e3,qualityScore:l.qualityMetrics.overall,prompt:{originalPrompt:l.originalPrompt},createdAt:Date.now()})),d("Optimization completed successfully!"),console.log("\uD83D\uDE80 DIRECT API: Optimization completed successfully"),console.log("\uD83D\uDE80 DIRECT API: Quality score:",c.result.qualityMetrics.overall)}catch(e){console.error("\uD83D\uDE80 DIRECT API: Optimization error:",e),a(e instanceof Error?e.message:"An unexpected error occurred"),d("Optimization failed")}finally{s(!1)}},[]),(0,i.useCallback)(()=>{s(!1),a(null),n(0),o(4),d(""),x(0),h(null),g(null),v(null)},[]),(0,i.useCallback)(async()=>{try{console.log("\uD83E\uDE7A HEALTH CHECK: Testing direct API connection...");let e=await fetch("/api/optimize",{method:"GET"});if(e.ok){let s=await e.json();return console.log("\uD83E\uDE7A HEALTH CHECK: Success -",s),{available:"healthy"===s.status,model:s.model||"qwen3:4b",error:"healthy"!==s.status?s.error:void 0}}throw Error("Health check failed: ".concat(e.status))}catch(e){return console.error("\uD83E\uDE7A HEALTH CHECK: Error -",e),{available:!1,model:"qwen3:4b",error:e instanceof Error?e.message:"Health check failed"}}},[])}();let{isOptimizing:h,currentStep:g,totalSteps:f,progressMessage:j,currentIteration:y,results:N,qualityMetrics:w,error:k,startOptimization:z,resetOptimization:C,checkOllamaHealth:S}=u,{sessions:P,isLoading:M}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,s=(0,l.IT)(n.sessions.getRecentSessions,{limit:e});return{sessions:s||[],isLoading:void 0===s}}(5);if(!b)return(0,a.jsx)(p,{});let O=async(e,t,a,i)=>{if(e.trim())try{await z(e,t,a,i),s(!0)}catch(e){console.error("Failed to start optimization:",e)}},A=async()=>{try{let e=await S();alert(JSON.stringify(e,null,2))}catch(e){alert("Health check failed: "+e)}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(c,{isOptimizing:h,currentStep:g,totalSteps:f,message:j}),(0,a.jsx)(v,{isVisible:e,onClose:()=>s(!1)}),(0,a.jsx)(x,{error:k,onDismiss:C}),(0,a.jsxs)("div",{className:"desktop-app-layout flex",children:[(0,a.jsxs)("div",{className:"desktop-sidebar w-80 border-r border-gray-200 flex flex-col",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg flex items-center justify-center shadow-lg",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"PromptEvolver"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"AI Prompt Optimization"})]})]})}),(0,a.jsx)("div",{className:"flex-1 p-6",children:(0,a.jsxs)("nav",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"nav-item active bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 011-1h1a2 2 0 100-4H7a1 1 0 01-1-1V7a1 1 0 011-1h3a1 1 0 001-1V4z"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-blue-900",children:"Optimize"}),(0,a.jsx)("p",{className:"text-sm text-blue-700",children:"Main workspace"})]})]})}),(0,a.jsx)("button",{className:"nav-item w-full text-left p-3 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:"History"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Past optimizations"})]})]})}),(0,a.jsx)("button",{className:"nav-item w-full text-left p-3 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:"Analytics"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Performance metrics"})]})]})}),(0,a.jsx)("button",{className:"nav-item w-full text-left p-3 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,a.jsxs)("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:"Settings"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Configuration"})]})]})})]})}),(0,a.jsxs)("div",{className:"p-6 border-t border-gray-200",children:[(0,a.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-green-800",children:"REAL PromptWizard + Qwen3:4b"}),(0,a.jsx)("p",{className:"text-xs text-green-700 mt-1",children:"Microsoft PromptWizard • Qwen3:4b AI Model • Direct API Integration"})]})]})}),(0,a.jsxs)("button",{onClick:A,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors",children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"System Health"})]})]})]}),(0,a.jsxs)("div",{className:"desktop-main-content flex overflow-hidden",children:[(0,a.jsx)("div",{className:"flex-1 p-8 overflow-y-auto custom-scrollbar",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Prompt Optimization Workspace"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Create and refine AI prompts using advanced optimization techniques"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[(0,a.jsx)("div",{className:"status-dot w-2 h-2 bg-green-500 rounded-full"}),(0,a.jsx)("span",{children:"PromptWizard + Qwen3:4b Ready"})]})]}),(0,a.jsxs)("div",{className:"desktop-card bg-white rounded-xl shadow-sm",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"New Optimization"}),(0,a.jsxs)("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[(0,a.jsx)("button",{onClick:()=>d(!1),className:"px-3 py-1.5 text-sm font-medium rounded-md transition-all desktop-focus ".concat(t?"text-gray-600 hover:text-gray-900":"bg-blue-600 text-white shadow-sm"),children:"Quick"}),(0,a.jsx)("button",{onClick:()=>d(!0),className:"px-3 py-1.5 text-sm font-medium rounded-md transition-all desktop-focus ".concat(t?"bg-purple-600 text-white shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Advanced"})]})]})}),(0,a.jsx)(o,{onOptimize:O,isOptimizing:h,useAdvancedMode:t,setUseAdvancedMode:d})]}),w&&(0,a.jsx)("div",{className:"desktop-card bg-white rounded-xl shadow-sm",children:(0,a.jsx)(m,{metrics:w,overallScore:null==N?void 0:N.qualityMetrics.overall})})]})}),(0,a.jsxs)("div",{className:"w-96 bg-white border-l border-gray-200 p-6 overflow-y-auto custom-scrollbar",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"System Status"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"desktop-card flex items-center justify-between p-3 bg-green-50 rounded-lg border border-green-200",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-green-900",children:"Ollama"}),(0,a.jsx)("p",{className:"text-sm text-green-700",children:"Connected"})]})]}),(0,a.jsx)("div",{className:"status-dot w-2 h-2 bg-green-500 rounded-full"})]}),(0,a.jsxs)("div",{className:"desktop-card flex items-center justify-between p-3 bg-blue-50 rounded-lg border border-blue-200",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-blue-900",children:"PromptWizard"}),(0,a.jsx)("p",{className:"text-sm text-blue-700",children:"Active"})]})]}),(0,a.jsx)("div",{className:"status-dot w-2 h-2 bg-blue-500 rounded-full"})]})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Session Overview"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"desktop-card text-center p-4 bg-blue-50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null==P?void 0:P.length)||0}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Total"})]}),(0,a.jsxs)("div",{className:"desktop-card text-center p-4 bg-green-50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:(null==P?void 0:P.filter(e=>"completed"===e.status).length)||0}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Completed"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"}),(0,a.jsx)("button",{className:"text-blue-600 hover:text-blue-800 text-sm font-medium desktop-focus",children:"View All"})]}),M?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"loading-pulse animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Loading..."})]}):0===P.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"w-12 h-12 mx-auto mb-3 bg-gray-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,a.jsx)("p",{className:"text-gray-500 font-medium text-sm",children:"No sessions yet"}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Start optimizing to see history"})]}):(0,a.jsx)("div",{className:"space-y-3",children:P.slice(0,4).map(e=>{var s,t;return(0,a.jsxs)("div",{className:"desktop-card p-3 border border-gray-200 rounded-lg cursor-pointer",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("completed"===e.status?"bg-green-100 text-green-800":"processing"===e.status?"bg-yellow-100 text-yellow-800":"failed"===e.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:["completed"===e.status&&"✓ ",e.status||"pending"]}),e.qualityScore&&(0,a.jsxs)("div",{className:"flex items-center text-xs",children:[(0,a.jsx)("svg",{className:"w-3 h-3 text-yellow-400 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),(0,a.jsx)("span",{className:"text-gray-700",children:e.qualityScore.toFixed(1)})]})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-700 line-clamp-2 mb-2",children:[null==(s=e.prompt)?void 0:s.originalPrompt.substring(0,60),((null==(t=e.prompt)?void 0:t.originalPrompt.length)||0)>60&&"..."]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,a.jsx)("span",{children:new Date(e.createdAt).toLocaleDateString()}),(0,a.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]},e._id)})})]})]})]})]})]})}}},e=>{e.O(0,[928,312,441,964,358],()=>e(e.s=4128)),_N_E=e.O()}]);